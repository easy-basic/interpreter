!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=8)}([function(t,n,e){"use strict";n.token_types=Object.freeze({Whitespace:0,Comment:1,EOL:2,Keyword:3,DeciamlNum:4,OcatalNum:5,HexaNum:6,Operator:7,UniaryOperator:14,String:8,Identifier:9,Unknown:10,EOF:11,LineNumber:12,EOS:13,Array:15,Function:16}),n.keywords=["END","FOR","NEXT","DATA","INPUT","DIM","READ","LET","GOTO","RUN","IF","RESTORE","GOSUB","RETURN","STOP","PRINT","CLEAR","LIST","NEW","ON","WAIT","DEF","POKE","CONT","OUT","LPRINT","LLIST","WIDTH","ELSE","TRON","TROFF","SWAP","ERASE","EDIT","ERROR","RESUME","DELETE","AUTO","RENUM","DEFSTR","DEFINT","DEFSNG","DEFDBL","LINE","WHILE","WEND","CALL","WRITE","OPTION","RANDOMIZE","OPEN","CLOSE","LOAD","MERGE","SAVE","COLOR","CLS","MOTOR","BSAVE","BLOAD","SOUND","BEEP","PSET","PRESET","SCREEN","KEY","LOCATE","TO","THEN","TAB(","STEP","USR","FN","SPC(","NOT","ERL","ERR","STRING$","USING","INSTR","VARPTR","CSRLIN","POINT","OFF","INKEY$","CVI","CVS","CVD","MKI$","MKS$","MKD$","EXTERR","FILES","FIELD","SYSTEM","NAME","LSET","RSET","KILL","PUT","GET","RESET","COMMON","CHAIN","DATE$","TIME$","PAINT","COM","CIRCLE","DRAW","PLAY","TIMER","ERDEV","IOCTL","CHDIR","MKDIR","RMDIR","SHELL","ENVIRON","VIEW","WINDOW","PMAP","PALETTE","LCOPY","CALLS","PCOPY","LOCK","UNLOCK","LEFT$","RIGHT$","MID$","SGN","INT","ABS","SQR","RND","SIN","LOG","EXP","COS","TAN","ATN","FRE","INP","POS","LEN","STR$","VAL","ASC","CHR$","PEEK","SPACE$","OCT$","HEX$","LPOS","CINT","CSNG","CDBL","FIX","PEN","STICK","STRIG","EOF","LOC","LOF","NOISE","AS","SHARED","ACCESS","RANDOM","OUTPUT","APPEND","BASE","SEG","ALL","REM","'"],n.binary_operators={"^":12,"*":11,"/":11,"\\":10,MOD:9,"+":8,"-":8,">":7,"<":7,">=":7,"<=":7,"=>":7,"=<":7,"<>":7,"><":7,"=":7,AND:5,OR:4,XOR:3,EQV:2,IMP:1},n.unary_operators=["-","+","NOT"]},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(0);var o=2,u=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"parse",value:function(t,n){return this.scanner=t,this._parseUntil(n)}},{key:"_parseUntil",value:function(t){for(var n=[];;){if(this.scanner.peekState(),this.token=this.scanner.scan(),this.scanner.seekState(),!this.token||this.token.type==i.token_types.EOL)throw"Expected "+t;if(!this.token.text||this.token.text==t){this.token=this.scanner.scan();break}if(","!=this.token.text){var e=this._binaryParser();n.push(e)}}return n}},{key:"_readToken",value:function(){if(this.scanner.peekState(),this.token=this.scanner.scan(),this.token.type==i.token_types.DeciamlNum){var t=this.token.text.replace(/(!|%|#|)$/,"")||0;return Object.assign(this.token,{value:t})}if(this.token.type==i.token_types.OcatalNum){t=this.token.text.replace(/^&o?/i,"")||"0";return Object.assign(this.token,{value:parseFloat(t,8)})}if(this.token.type==i.token_types.HexaNum){t=this.token.text.replace(/^&h/i,"")||"0";return Object.assign(this.token,{value:parseFloat(t,16)})}if(this.token.type==i.token_types.String)return this.token;if("["==this.token.text)return _parseUntil("]");if(this._isUniaryOp(this.token.text))return{type:i.token_types.UniaryOperator,operator:this.token.text,argument:this._readToken(),prefix:!0};if("("==this.token.text)return this._parseUntil(")");if(this.token.type==i.token_types.Identifier){var n=this.token;if(this.token=this.scanner.scan(),"["==this.token.text)return{type:i.token_types.Array,object:n,property:this._parseUntil("]")};if("("==this.token.text)return{type:i.token_types.Function,object:n,property:this._parseUntil(")")}}return this.scanner.seekState(),!1}},{key:"_binaryPrecedence",value:function(t){return i.binary_operators[t]||0}},{key:"_readBinaryToken",value:function(){return this.scanner.peekState(),this.token=this.scanner.scan(),this.token.type==i.token_types.Operator?Object.assign(this.token,{prec:this._binaryPrecedence(this.token.text)}):(this.scanner.seekState(),!1)}},{key:"_isUniaryOp",value:function(t){return["+","-","NOT"].indexOf(t)>-1}},{key:"_binaryParser",value:function(){var t=this._readToken(),n=this._readBinaryToken();if(!n)return t;var e=this._readToken();if(!e)throw"Expected expression after "+n+", "+this.scanner.index;for(var r=[t,n,e];(n=this._readBinaryToken())&&0!=n.prec;){for(console.log(r);r.length>2&&n.prec<=r[r.length-2].prec;){e=r.pop(),n=r.pop(),t=r.pop();var i=this._createBinaryExpression(n,t,e);r.push(i)}if(!(i=this._readToken()))throw"Expected expression after "+n+", "+this.scanner.index;r.push(n,i)}var o=r.length-1;for(i=r[o];o>1;)i=this._createBinaryExpression(r[o-1],r[o-2],i),o-=2;return i}},{key:"_createBinaryExpression",value:function(t,n,e){return{type:o,operator:t.text,left:n,right:e}}}]),t}();n.default=u},function(t,n,e){var r,i=e(4),o=function(t,n,e,r){return{key:t,value:n,next:e,prev:r}};r=function(){var t=this;t._dict={},t._first=null,t._last=null,t._size=0;var n=i.toArray(arguments);t._stringify=function(t){return t},"function"==typeof n[0]&&(t._stringify=n.shift()),i.each(n,function(n){t.putBefore(n[0],n[1],null)})},i.extend(r.prototype,{_k:function(t){return" "+this._stringify(t)},empty:function(){return!this._first},size:function(){return this._size},_linkEltIn:function(t){t.next?(t.prev=t.next.prev,t.next.prev=t,t.prev&&(t.prev.next=t)):(t.prev=this._last,this._last&&(this._last.next=t),this._last=t),null!==this._first&&this._first!==t.next||(this._first=t)},_linkEltOut:function(t){t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next)},putBefore:function(t,n,e){if(this._dict[this._k(t)])throw new Error("Item "+t+" already present in OrderedDict");var r=o(t,n,e?this._dict[this._k(e)]:null);if(void 0===r.next)throw new Error("could not find item to put this one before");this._linkEltIn(r),this._dict[this._k(t)]=r,this._size++},append:function(t,n){this.putBefore(t,n,null)},remove:function(t){var n=this._dict[this._k(t)];if(void 0===n)throw new Error("Item "+t+" not present in OrderedDict");return this._linkEltOut(n),this._size--,delete this._dict[this._k(t)],n.value},get:function(t){if(this.has(t))return this._dict[this._k(t)].value},has:function(t){return i.has(this._dict,this._k(t))},forEach:function(t){for(var n=0,e=this._first;null!==e;){if(t(e.value,e.key,n)===r.BREAK)return;e=e.next,n++}},first:function(){if(!this.empty())return this._first.key},firstValue:function(){if(!this.empty())return this._first.value},last:function(){if(!this.empty())return this._last.key},lastValue:function(){if(!this.empty())return this._last.value},prev:function(t){if(this.has(t)){var n=this._dict[this._k(t)];if(n.prev)return n.prev.key}return null},next:function(t){if(this.has(t)){var n=this._dict[this._k(t)];if(n.next)return n.next.key}return null},moveBefore:function(t,n){var e=this._dict[this._k(t)],r=n?this._dict[this._k(n)]:null;if(void 0===e)throw new Error("Item to move is not present");if(void 0===r)throw new Error("Could not find element to move this one before");r!==e.next&&(this._linkEltOut(e),e.next=r,this._linkEltIn(e))},indexOf:function(t){var n=this,e=null;return n.forEach(function(i,o,u){if(n._k(o)===n._k(t))return e=u,r.BREAK}),e},_checkRep:function(){i.each(this._dict,function(t,n){if(n.next===n)throw new Error("Next is a loop");if(n.prev===n)throw new Error("Prev is a loop")})}}),r.BREAK={break:!0},t.exports=r},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.build_satements=function(){var t=new r.default;return t.BEEP=o,t.LET=u,t};var r=i(e(2));i(e(1));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,n){return{freq:n.parse(t,","),duration:n.parse(t,"\n")}}function u(t,n,e){if(!e){e=t.scan().text;var r=t.scan();if("="!=r.text)throw"Invalid token "+r.text}return{ident:e,val:n.parse(t,"\n")}}},function(t,n,e){var r;(function(){var e=this,i=e._,o={},u=Array.prototype,a=Object.prototype,s=Function.prototype,c=u.push,l=u.slice,f=u.concat,p=a.toString,h=a.hasOwnProperty,y=u.forEach,v=u.map,_=u.reduce,d=u.reduceRight,k=u.filter,E=u.every,m=u.some,g=u.indexOf,O=u.lastIndexOf,x=Array.isArray,b=Object.keys,T=s.bind,S=function(t){return t instanceof S?t:this instanceof S?void(this._wrapped=t):new S(t)};void 0!==t&&t.exports&&(n=t.exports=S),n._=S,S.VERSION="1.6.0";var w=S.each=S.forEach=function(t,n,e){if(null==t)return t;if(y&&t.forEach===y)t.forEach(n,e);else if(t.length===+t.length){for(var r=0,i=t.length;r<i;r++)if(n.call(e,t[r],r,t)===o)return}else{var u=S.keys(t);for(r=0,i=u.length;r<i;r++)if(n.call(e,t[u[r]],u[r],t)===o)return}return t};S.map=S.collect=function(t,n,e){var r=[];return null==t?r:v&&t.map===v?t.map(n,e):(w(t,function(t,i,o){r.push(n.call(e,t,i,o))}),r)};var R="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(t,n,e,r){var i=arguments.length>2;if(null==t&&(t=[]),_&&t.reduce===_)return r&&(n=S.bind(n,r)),i?t.reduce(n,e):t.reduce(n);if(w(t,function(t,o,u){i?e=n.call(r,e,t,o,u):(e=t,i=!0)}),!i)throw new TypeError(R);return e},S.reduceRight=S.foldr=function(t,n,e,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return r&&(n=S.bind(n,r)),i?t.reduceRight(n,e):t.reduceRight(n);var o=t.length;if(o!==+o){var u=S.keys(t);o=u.length}if(w(t,function(a,s,c){s=u?u[--o]:--o,i?e=n.call(r,e,t[s],s,c):(e=t[s],i=!0)}),!i)throw new TypeError(R);return e},S.find=S.detect=function(t,n,e){var r;return N(t,function(t,i,o){if(n.call(e,t,i,o))return r=t,!0}),r},S.filter=S.select=function(t,n,e){var r=[];return null==t?r:k&&t.filter===k?t.filter(n,e):(w(t,function(t,i,o){n.call(e,t,i,o)&&r.push(t)}),r)},S.reject=function(t,n,e){return S.filter(t,function(t,r,i){return!n.call(e,t,r,i)},e)},S.every=S.all=function(t,n,e){n||(n=S.identity);var r=!0;return null==t?r:E&&t.every===E?t.every(n,e):(w(t,function(t,i,u){if(!(r=r&&n.call(e,t,i,u)))return o}),!!r)};var N=S.some=S.any=function(t,n,e){n||(n=S.identity);var r=!1;return null==t?r:m&&t.some===m?t.some(n,e):(w(t,function(t,i,u){if(r||(r=n.call(e,t,i,u)))return o}),!!r)};S.contains=S.include=function(t,n){return null!=t&&(g&&t.indexOf===g?-1!=t.indexOf(n):N(t,function(t){return t===n}))},S.invoke=function(t,n){var e=l.call(arguments,2),r=S.isFunction(n);return S.map(t,function(t){return(r?n:t[n]).apply(t,e)})},S.pluck=function(t,n){return S.map(t,S.property(n))},S.where=function(t,n){return S.filter(t,S.matches(n))},S.findWhere=function(t,n){return S.find(t,S.matches(n))},S.max=function(t,n,e){if(!n&&S.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);var r=-1/0,i=-1/0;return w(t,function(t,o,u){var a=n?n.call(e,t,o,u):t;a>i&&(r=t,i=a)}),r},S.min=function(t,n,e){if(!n&&S.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);var r=1/0,i=1/0;return w(t,function(t,o,u){var a=n?n.call(e,t,o,u):t;a<i&&(r=t,i=a)}),r},S.shuffle=function(t){var n,e=0,r=[];return w(t,function(t){n=S.random(e++),r[e-1]=r[n],r[n]=t}),r},S.sample=function(t,n,e){return null==n||e?(t.length!==+t.length&&(t=S.values(t)),t[S.random(t.length-1)]):S.shuffle(t).slice(0,Math.max(0,n))};var A=function(t){return null==t?S.identity:S.isFunction(t)?t:S.property(t)};S.sortBy=function(t,n,e){return n=A(n),S.pluck(S.map(t,function(t,r,i){return{value:t,index:r,criteria:n.call(e,t,r,i)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return t.index-n.index}),"value")};var I=function(t){return function(n,e,r){var i={};return e=A(e),w(n,function(o,u){var a=e.call(r,o,u,n);t(i,a,o)}),i}};S.groupBy=I(function(t,n,e){S.has(t,n)?t[n].push(e):t[n]=[e]}),S.indexBy=I(function(t,n,e){t[n]=e}),S.countBy=I(function(t,n){S.has(t,n)?t[n]++:t[n]=1}),S.sortedIndex=function(t,n,e,r){for(var i=(e=A(e)).call(r,n),o=0,u=t.length;o<u;){var a=o+u>>>1;e.call(r,t[a])<i?o=a+1:u=a}return o},S.toArray=function(t){return t?S.isArray(t)?l.call(t):t.length===+t.length?S.map(t,S.identity):S.values(t):[]},S.size=function(t){return null==t?0:t.length===+t.length?t.length:S.keys(t).length},S.first=S.head=S.take=function(t,n,e){if(null!=t)return null==n||e?t[0]:n<0?[]:l.call(t,0,n)},S.initial=function(t,n,e){return l.call(t,0,t.length-(null==n||e?1:n))},S.last=function(t,n,e){if(null!=t)return null==n||e?t[t.length-1]:l.call(t,Math.max(t.length-n,0))},S.rest=S.tail=S.drop=function(t,n,e){return l.call(t,null==n||e?1:n)},S.compact=function(t){return S.filter(t,S.identity)};var L=function(t,n,e){return n&&S.every(t,S.isArray)?f.apply(e,t):(w(t,function(t){S.isArray(t)||S.isArguments(t)?n?c.apply(e,t):L(t,n,e):e.push(t)}),e)};S.flatten=function(t,n){return L(t,n,[])},S.without=function(t){return S.difference(t,l.call(arguments,1))},S.partition=function(t,n){var e=[],r=[];return w(t,function(t){(n(t)?e:r).push(t)}),[e,r]},S.uniq=S.unique=function(t,n,e,r){S.isFunction(n)&&(r=e,e=n,n=!1);var i=e?S.map(t,e,r):t,o=[],u=[];return w(i,function(e,r){(n?r&&u[u.length-1]===e:S.contains(u,e))||(u.push(e),o.push(t[r]))}),o},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=function(t){var n=l.call(arguments,1);return S.filter(S.uniq(t),function(t){return S.every(n,function(n){return S.contains(n,t)})})},S.difference=function(t){var n=f.apply(u,l.call(arguments,1));return S.filter(t,function(t){return!S.contains(n,t)})},S.zip=function(){for(var t=S.max(S.pluck(arguments,"length").concat(0)),n=new Array(t),e=0;e<t;e++)n[e]=S.pluck(arguments,""+e);return n},S.object=function(t,n){if(null==t)return{};for(var e={},r=0,i=t.length;r<i;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},S.indexOf=function(t,n,e){if(null==t)return-1;var r=0,i=t.length;if(e){if("number"!=typeof e)return t[r=S.sortedIndex(t,n)]===n?r:-1;r=e<0?Math.max(0,i+e):e}if(g&&t.indexOf===g)return t.indexOf(n,e);for(;r<i;r++)if(t[r]===n)return r;return-1},S.lastIndexOf=function(t,n,e){if(null==t)return-1;var r=null!=e;if(O&&t.lastIndexOf===O)return r?t.lastIndexOf(n,e):t.lastIndexOf(n);for(var i=r?e:t.length;i--;)if(t[i]===n)return i;return-1},S.range=function(t,n,e){arguments.length<=1&&(n=t||0,t=0),e=arguments[2]||1;for(var r=Math.max(Math.ceil((n-t)/e),0),i=0,o=new Array(r);i<r;)o[i++]=t,t+=e;return o};var P=function(){};S.bind=function(t,n){var e,r;if(T&&t.bind===T)return T.apply(t,l.call(arguments,1));if(!S.isFunction(t))throw new TypeError;return e=l.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(n,e.concat(l.call(arguments)));P.prototype=t.prototype;var i=new P;P.prototype=null;var o=t.apply(i,e.concat(l.call(arguments)));return Object(o)===o?o:i}},S.partial=function(t){var n=l.call(arguments,1);return function(){for(var e=0,r=n.slice(),i=0,o=r.length;i<o;i++)r[i]===S&&(r[i]=arguments[e++]);for(;e<arguments.length;)r.push(arguments[e++]);return t.apply(this,r)}},S.bindAll=function(t){var n=l.call(arguments,1);if(0===n.length)throw new Error("bindAll must be passed function names");return w(n,function(n){t[n]=S.bind(t[n],t)}),t},S.memoize=function(t,n){var e={};return n||(n=S.identity),function(){var r=n.apply(this,arguments);return S.has(e,r)?e[r]:e[r]=t.apply(this,arguments)}},S.delay=function(t,n){var e=l.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},n)},S.defer=function(t){return S.delay.apply(S,[t,1].concat(l.call(arguments,1)))},S.throttle=function(t,n,e){var r,i,o,u=null,a=0;e||(e={});var s=function(){a=!1===e.leading?0:S.now(),u=null,o=t.apply(r,i),r=i=null};return function(){var c=S.now();a||!1!==e.leading||(a=c);var l=n-(c-a);return r=this,i=arguments,l<=0?(clearTimeout(u),u=null,a=c,o=t.apply(r,i),r=i=null):u||!1===e.trailing||(u=setTimeout(s,l)),o}},S.debounce=function(t,n,e){var r,i,o,u,a,s=function(){var c=S.now()-u;c<n?r=setTimeout(s,n-c):(r=null,e||(a=t.apply(o,i),o=i=null))};return function(){o=this,i=arguments,u=S.now();var c=e&&!r;return r||(r=setTimeout(s,n)),c&&(a=t.apply(o,i),o=i=null),a}},S.once=function(t){var n,e=!1;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}},S.wrap=function(t,n){return S.partial(n,t)},S.compose=function(){var t=arguments;return function(){for(var n=arguments,e=t.length-1;e>=0;e--)n=[t[e].apply(this,n)];return n[0]}},S.after=function(t,n){return function(){if(--t<1)return n.apply(this,arguments)}},S.keys=function(t){if(!S.isObject(t))return[];if(b)return b(t);var n=[];for(var e in t)S.has(t,e)&&n.push(e);return n},S.values=function(t){for(var n=S.keys(t),e=n.length,r=new Array(e),i=0;i<e;i++)r[i]=t[n[i]];return r},S.pairs=function(t){for(var n=S.keys(t),e=n.length,r=new Array(e),i=0;i<e;i++)r[i]=[n[i],t[n[i]]];return r},S.invert=function(t){for(var n={},e=S.keys(t),r=0,i=e.length;r<i;r++)n[t[e[r]]]=e[r];return n},S.functions=S.methods=function(t){var n=[];for(var e in t)S.isFunction(t[e])&&n.push(e);return n.sort()},S.extend=function(t){return w(l.call(arguments,1),function(n){if(n)for(var e in n)t[e]=n[e]}),t},S.pick=function(t){var n={},e=f.apply(u,l.call(arguments,1));return w(e,function(e){e in t&&(n[e]=t[e])}),n},S.omit=function(t){var n={},e=f.apply(u,l.call(arguments,1));for(var r in t)S.contains(e,r)||(n[r]=t[r]);return n},S.defaults=function(t){return w(l.call(arguments,1),function(n){if(n)for(var e in n)void 0===t[e]&&(t[e]=n[e])}),t},S.clone=function(t){return S.isObject(t)?S.isArray(t)?t.slice():S.extend({},t):t},S.tap=function(t,n){return n(t),t};var j=function(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;t instanceof S&&(t=t._wrapped),n instanceof S&&(n=n._wrapped);var i=p.call(t);if(i!=p.call(n))return!1;switch(i){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var o=e.length;o--;)if(e[o]==t)return r[o]==n;var u=t.constructor,a=n.constructor;if(u!==a&&!(S.isFunction(u)&&u instanceof u&&S.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in n)return!1;e.push(t),r.push(n);var s=0,c=!0;if("[object Array]"==i){if(c=(s=t.length)==n.length)for(;s--&&(c=j(t[s],n[s],e,r)););}else{for(var l in t)if(S.has(t,l)&&(s++,!(c=S.has(n,l)&&j(t[l],n[l],e,r))))break;if(c){for(l in n)if(S.has(n,l)&&!s--)break;c=!s}}return e.pop(),r.pop(),c};S.isEqual=function(t,n){return j(t,n,[],[])},S.isEmpty=function(t){if(null==t)return!0;if(S.isArray(t)||S.isString(t))return 0===t.length;for(var n in t)if(S.has(t,n))return!1;return!0},S.isElement=function(t){return!(!t||1!==t.nodeType)},S.isArray=x||function(t){return"[object Array]"==p.call(t)},S.isObject=function(t){return t===Object(t)},w(["Arguments","Function","String","Number","Date","RegExp"],function(t){S["is"+t]=function(n){return p.call(n)=="[object "+t+"]"}}),S.isArguments(arguments)||(S.isArguments=function(t){return!(!t||!S.has(t,"callee"))}),S.isFunction=function(t){return"function"==typeof t},S.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},S.isNaN=function(t){return S.isNumber(t)&&t!=+t},S.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==p.call(t)},S.isNull=function(t){return null===t},S.isUndefined=function(t){return void 0===t},S.has=function(t,n){return h.call(t,n)},S.noConflict=function(){return e._=i,this},S.identity=function(t){return t},S.constant=function(t){return function(){return t}},S.property=function(t){return function(n){return n[t]}},S.matches=function(t){return function(n){if(n===t)return!0;for(var e in t)if(t[e]!==n[e])return!1;return!0}},S.times=function(t,n,e){for(var r=Array(Math.max(0,t)),i=0;i<t;i++)r[i]=n.call(e,i);return r},S.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},S.now=Date.now||function(){return(new Date).getTime()};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};M.unescape=S.invert(M.escape);var C={escape:new RegExp("["+S.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+S.keys(M.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(t){S[t]=function(n){return null==n?"":(""+n).replace(C[t],function(n){return M[t][n]})}}),S.result=function(t,n){if(null!=t){var e=t[n];return S.isFunction(e)?e.call(t):e}},S.mixin=function(t){w(S.functions(t),function(n){var e=S[n]=t[n];S.prototype[n]=function(){var t=[this._wrapped];return c.apply(t,arguments),$.call(this,e.apply(S,t))}})};var D=0;S.uniqueId=function(t){var n=++D+"";return t?t+n:n},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\t|\u2028|\u2029/g;S.template=function(t,n,e){var r;e=S.defaults({},e,S.templateSettings);var i=new RegExp([(e.escape||F).source,(e.interpolate||F).source,(e.evaluate||F).source].join("|")+"|$","g"),o=0,u="__p+='";t.replace(i,function(n,e,r,i,a){return u+=t.slice(o,a).replace(U,function(t){return"\\"+B[t]}),e&&(u+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),r&&(u+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(u+="';\n"+i+"\n__p+='"),o=a+n.length,n}),u+="';\n",e.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{r=new Function(e.variable||"obj","_",u)}catch(t){throw t.source=u,t}if(n)return r(n,S);var a=function(t){return r.call(this,t,S)};return a.source="function("+(e.variable||"obj")+"){\n"+u+"}",a},S.chain=function(t){return S(t).chain()};var $=function(t){return this._chain?S(t).chain():t};S.mixin(S),w(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=u[t];S.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!=t&&"splice"!=t||0!==e.length||delete e[0],$.call(this,e)}}),w(["concat","join","slice"],function(t){var n=u[t];S.prototype[t]=function(){return $.call(this,n.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),void 0===(r=function(){return S}.apply(n,[]))||(t.exports=r)}).call(this)},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.build_scanners=function(){var t=new r.default;return t.append("eof_scanner",o),t.append("eol_scanner",u),t.append("eos_scanner",a),t.append("comment_scanner",c),t.append("keyword_scanner",s),t.append("operator_scanner",h),t.append("string_scanner",y),t.append("decimal_scanner",l),t.append("hexa_scanner",p),t.append("octal_scanner",f),t.append("identifier_scanner",v),t.append("unkown_scanner",_),t};var r=function(t){return t&&t.__esModule?t:{default:t}}(e(2)),i=e(0);function o(t,n){if(!t[0])return{length:0,type:i.token_types.EOF,text:t[0]}}function u(t,n){if(t.match(/^(\r\n|\r|\n)/))return{length:1,type:i.token_types.EOL,text:t.slice(0,1)}}function a(t,n){if(":"==t[0])return{length:1,type:i.token_types.EOS,text:":"}}function s(t,n){var e=t.match(/^[a-z$(']+/i);if(e&&i.keywords.indexOf(e[0].toUpperCase())>-1)return{length:e[0].length,type:i.token_types.Keyword,text:e[0].toUpperCase()}}function c(t,n){var e=0;if(n&&("REM"==n.text||"'"==n.text)){for(;t[e]&&!t[e].match(/^(\r\n|\r|\n)/);)e++;return{length:e,type:i.token_types.Comment,text:t.slice(0,e)}}}function l(t,n){var e=t.match(/^((\+|-)?[\d.]+((e|d)(\+|-)?(\d))?(#|!|%)?)/i);if(e)return{length:e[0].length,type:i.token_types.DeciamlNum,text:e[0]}}function f(t,n){var e=t.match(/^&o?[0-7]*/i);if(e)return{length:e[0].length,type:i.token_types.DeciamlNum,text:e[0]}}function p(t,n){var e=t.match(/^&h[0-9a-f]*/i);if(e)return{length:e[0].length,type:i.token_types.DeciamlNum,text:e[0]}}function h(t,n){var e=t.slice(0,3).match(/(MOD|AND|OR|XOR|EQV|IMP)/i)||t.slice(0,2).match(/(>=|<=|=>|=<|<>|=)/i)||t.match(/^(\^|\*|\/|\\|\+|-|>|<|\(|\))/i);if(e)return{length:e[0].length,type:i.token_types.Operator,text:e[0]}}function y(t,n){var e=t.match(/^"([^"\r\n]*)"?/);if(e)return{length:e[0].length,type:i.token_types.String,text:e[0]}}function v(t,n){var e=t.match(/^([a-z]([a-z0-9.]+)?)(!|#|\$)?/i);if(e)return{length:e[0].length,type:i.token_types.Identifier,text:e[0]}}function _(t,n){return{length:1,type:i.token_types.Unknown,text:t[0]}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(5);var o=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.source="",this.pos=0,this.last_token=null,this.token=null,this.scanners=(0,i.build_scanners)(),this.states=[]}return r(t,[{key:"setSource",value:function(t){this.source=t,this.pos=0,this.last_token=null,this.token=null}},{key:"skipBlank",value:function(){var t=this.source.slice(this.pos).match(/^[ \t\f]+/);t&&(this.pos+=t.length)}},{key:"peekState",value:function(){this.states.push({last_token:this.last_token,pos:this.pos,token:this.token})}},{key:"seekState",value:function(){var t=this.states.pop();t&&(this.last_token=t.last_token,this.pos=t.pos,this.token=t.token)}},{key:"scan",value:function(){for(var t in this.skipBlank(),this.scanners._dict){var n=this.scanners._dict[t].value;if(this.token=n(this.source.slice(this.pos),this.last_token),this.token)return this.last_token=this.token,this.pos+=this.token.length,this.token}}}]),t}();n.default=o},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=s(e(6)),o=e(0),u=s(e(1)),a=e(3);function s(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.scanner=new i.default,this.expr_parser=new u.default,this.statement_parser=(0,a.build_satements)()}return r(t,[{key:"parse",value:function(t){this.code=t.toUpperCase(),this.scanner.setSource(t),this._nextToken();for(var n=[];this.token.type!=o.token_types.EOF;)n.push(this._parseLine());return n}},{key:"_parseLine",value:function(){var t,n=[];for(this.token.type==o.token_types.DeciamlNum&&(t=this.token.text,this._nextToken());!this._isLineTerminator();)n.push(this._parseStatement()),":"==this.token.text&&this._nextToken();return this._nextToken(),{lineNum:t,statements:n}}},{key:"_parseStatement",value:function(){var t,n,e=[];if(this.token.type==o.token_types.Keyword){if(t=this.token.text,n=this.statement_parser[t]){e=n(this.scanner,this.expr_parser);this.token=this.scanner.token}}else if(this.token.type==o.token_types.Identifier){var r=this.token;if(this._nextToken(),"="==this.token.text){if(t="LET",n=this.statement_parser.LET){e=n(this.scanner,this.expr_parser,r.text);this.token=this.scanner.token}}else this._throwError("Invalid token "+this.token.text)}else this._throwError("Invalid token "+this.token.text);return{statement:t,params:e}}},{key:"_isStatementTerminator",value:function(){return this.token.type==o.token_types.EOS||this.token.type==o.token_types.EOL||this.token.type==o.token_types.EOF}},{key:"_isLineTerminator",value:function(){return this.token.type==o.token_types.EOL||this.token.type==o.token_types.EOF}},{key:"_nextToken",value:function(){this.token=this.scanner.scan()}},{key:"_throwError",value:function(t){throw t}}]),t}();n.default=c},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function(t){return t&&t.__esModule?t:{default:t}}(e(7));var o=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.parser=new i.default}return r(t,[{key:"parse",value:function(t){return this.parser.parse(t)}}]),t}();window.BASIC=o,n.default=o}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Rva2VuLmpzIiwid2VicGFjazovLy8uL3NyYy9wYXJzZXIvZXhwcmVzc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3JkZXJlZC1kaWN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9wYXJzZXIvc3RhdGVtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdW5kZXJzY29yZS91bmRlcnNjb3JlLmpzIiwid2VicGFjazovLy8uL3NyYy9zY2FubmVycy9zY2FubmVycy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2Nhbm5lcnMvYmFzaWNfc2Nhbm5lci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFyc2VyL2Jhc2ljX3BhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInRva2VuX3R5cGVzIiwiZnJlZXplIiwiV2hpdGVzcGFjZSIsIkNvbW1lbnQiLCJFT0wiLCJLZXl3b3JkIiwiRGVjaWFtbE51bSIsIk9jYXRhbE51bSIsIkhleGFOdW0iLCJPcGVyYXRvciIsIlVuaWFyeU9wZXJhdG9yIiwiU3RyaW5nIiwiSWRlbnRpZmllciIsIlVua25vd24iLCJFT0YiLCJMaW5lTnVtYmVyIiwiRU9TIiwiQXJyYXkiLCJGdW5jdGlvbiIsImtleXdvcmRzIiwiYmluYXJ5X29wZXJhdG9ycyIsIl4iLCIqIiwiLyIsIlxcIiwiTU9EIiwiKyIsIi0iLCI+IiwiPCIsIj49IiwiPD0iLCI9PiIsIj08IiwiPD4iLCI+PCIsIj0iLCJBTkQiLCJPUiIsIlhPUiIsIkVRViIsIklNUCIsInVuYXJ5X29wZXJhdG9ycyIsIl90b2tlbiIsImV4cHJfdHlwZXMiLCJFeHByZXNzaW9uUGFyc2VyIiwic2Nhbm5lciIsInVudGlsIiwidGhpcyIsIl9wYXJzZVVudGlsIiwibm9kZXMiLCJwZWVrU3RhdGUiLCJ0b2tlbiIsInNjYW4iLCJzZWVrU3RhdGUiLCJ0eXBlIiwidGV4dCIsIm5vZGUiLCJfYmluYXJ5UGFyc2VyIiwicHVzaCIsInJlcGxhY2UiLCJhc3NpZ24iLCJwYXJzZUZsb2F0IiwiX2lzVW5pYXJ5T3AiLCJvcGVyYXRvciIsImFyZ3VtZW50IiwiX3JlYWRUb2tlbiIsInByZWZpeCIsIm9wIiwicHJlYyIsIl9iaW5hcnlQcmVjZWRlbmNlIiwiaW5kZXhPZiIsImxlZnQiLCJfcmVhZEJpbmFyeVRva2VuIiwicmlnaHQiLCJpbmRleCIsInN0YWNrIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsInBvcCIsIl9jcmVhdGVCaW5hcnlFeHByZXNzaW9uIiwiT3JkZXJlZERpY3QiLCJfIiwiZWxlbWVudCIsIm5leHQiLCJwcmV2Iiwic2VsZiIsIl9kaWN0IiwiX2ZpcnN0IiwiX2xhc3QiLCJfc2l6ZSIsImFyZ3MiLCJ0b0FycmF5IiwiYXJndW1lbnRzIiwiX3N0cmluZ2lmeSIsIngiLCJzaGlmdCIsImVhY2giLCJrdiIsInB1dEJlZm9yZSIsImV4dGVuZCIsIl9rIiwiZW1wdHkiLCJzaXplIiwiX2xpbmtFbHRJbiIsImVsdCIsIl9saW5rRWx0T3V0IiwiaXRlbSIsImJlZm9yZSIsIkVycm9yIiwidW5kZWZpbmVkIiwiYXBwZW5kIiwicmVtb3ZlIiwiaGFzIiwiZm9yRWFjaCIsIml0ZXIiLCJCUkVBSyIsImZpcnN0IiwiZmlyc3RWYWx1ZSIsImxhc3QiLCJsYXN0VmFsdWUiLCJtb3ZlQmVmb3JlIiwiZWx0QmVmb3JlIiwicmV0IiwidiIsImsiLCJfY2hlY2tSZXAiLCJicmVhayIsImJ1aWxkX3NhdGVtZW50cyIsInN0YXRlbWVudHMiLCJvcmRlcmVkRGljdCIsIkJlZXBQYXJzZXIiLCJMZXRQYXJzZXIiLCJzY25yIiwiZXhwcl9wYXJzZXIiLCJmcmVxIiwicGFyc2UiLCJkdXJhdGlvbiIsImlkZW50IiwidmFsIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfUkVTVUxUX18iLCJyb290IiwicHJldmlvdXNVbmRlcnNjb3JlIiwiYnJlYWtlciIsIkFycmF5UHJvdG8iLCJPYmpQcm90byIsIkZ1bmNQcm90byIsInNsaWNlIiwiY29uY2F0IiwidG9TdHJpbmciLCJuYXRpdmVGb3JFYWNoIiwibmF0aXZlTWFwIiwibWFwIiwibmF0aXZlUmVkdWNlIiwicmVkdWNlIiwibmF0aXZlUmVkdWNlUmlnaHQiLCJyZWR1Y2VSaWdodCIsIm5hdGl2ZUZpbHRlciIsImZpbHRlciIsIm5hdGl2ZUV2ZXJ5IiwiZXZlcnkiLCJuYXRpdmVTb21lIiwic29tZSIsIm5hdGl2ZUluZGV4T2YiLCJuYXRpdmVMYXN0SW5kZXhPZiIsImxhc3RJbmRleE9mIiwibmF0aXZlSXNBcnJheSIsImlzQXJyYXkiLCJuYXRpdmVLZXlzIiwia2V5cyIsIm5hdGl2ZUJpbmQiLCJvYmoiLCJfd3JhcHBlZCIsIlZFUlNJT04iLCJpdGVyYXRvciIsImNvbnRleHQiLCJjb2xsZWN0IiwicmVzdWx0cyIsImxpc3QiLCJyZWR1Y2VFcnJvciIsImZvbGRsIiwiaW5qZWN0IiwibWVtbyIsImluaXRpYWwiLCJUeXBlRXJyb3IiLCJmb2xkciIsImZpbmQiLCJkZXRlY3QiLCJwcmVkaWNhdGUiLCJyZXN1bHQiLCJhbnkiLCJzZWxlY3QiLCJyZWplY3QiLCJhbGwiLCJpZGVudGl0eSIsImNvbnRhaW5zIiwiaW5jbHVkZSIsInRhcmdldCIsImludm9rZSIsIm1ldGhvZCIsImlzRnVuYyIsImlzRnVuY3Rpb24iLCJhcHBseSIsInBsdWNrIiwid2hlcmUiLCJhdHRycyIsIm1hdGNoZXMiLCJmaW5kV2hlcmUiLCJtYXgiLCJNYXRoIiwiSW5maW5pdHkiLCJsYXN0Q29tcHV0ZWQiLCJjb21wdXRlZCIsIm1pbiIsInNodWZmbGUiLCJyYW5kIiwic2h1ZmZsZWQiLCJyYW5kb20iLCJzYW1wbGUiLCJndWFyZCIsInZhbHVlcyIsImxvb2t1cEl0ZXJhdG9yIiwic29ydEJ5IiwiY3JpdGVyaWEiLCJzb3J0IiwiYSIsImIiLCJncm91cCIsImJlaGF2aW9yIiwiZ3JvdXBCeSIsImluZGV4QnkiLCJjb3VudEJ5Iiwic29ydGVkSW5kZXgiLCJhcnJheSIsImxvdyIsImhpZ2giLCJtaWQiLCJoZWFkIiwidGFrZSIsInJlc3QiLCJ0YWlsIiwiZHJvcCIsImNvbXBhY3QiLCJmbGF0dGVuIiwiaW5wdXQiLCJzaGFsbG93Iiwib3V0cHV0IiwiaXNBcmd1bWVudHMiLCJ3aXRob3V0IiwiZGlmZmVyZW5jZSIsInBhcnRpdGlvbiIsInBhc3MiLCJmYWlsIiwiZWxlbSIsInVuaXEiLCJ1bmlxdWUiLCJpc1NvcnRlZCIsInNlZW4iLCJ1bmlvbiIsImludGVyc2VjdGlvbiIsIm90aGVyIiwiemlwIiwiZnJvbSIsImhhc0luZGV4IiwicmFuZ2UiLCJzdGFydCIsInN0b3AiLCJzdGVwIiwiY2VpbCIsImlkeCIsImN0b3IiLCJmdW5jIiwiYm91bmQiLCJwYXJ0aWFsIiwiYm91bmRBcmdzIiwicG9zaXRpb24iLCJiaW5kQWxsIiwiZnVuY3MiLCJmIiwibWVtb2l6ZSIsImhhc2hlciIsImRlbGF5Iiwid2FpdCIsInNldFRpbWVvdXQiLCJkZWZlciIsInRocm90dGxlIiwib3B0aW9ucyIsInRpbWVvdXQiLCJwcmV2aW91cyIsImxhdGVyIiwibGVhZGluZyIsIm5vdyIsInJlbWFpbmluZyIsImNsZWFyVGltZW91dCIsInRyYWlsaW5nIiwiZGVib3VuY2UiLCJpbW1lZGlhdGUiLCJ0aW1lc3RhbXAiLCJjYWxsTm93Iiwib25jZSIsInJhbiIsIndyYXAiLCJ3cmFwcGVyIiwiY29tcG9zZSIsImFmdGVyIiwidGltZXMiLCJpc09iamVjdCIsInBhaXJzIiwiaW52ZXJ0IiwiZnVuY3Rpb25zIiwibWV0aG9kcyIsIm5hbWVzIiwic291cmNlIiwicHJvcCIsInBpY2siLCJjb3B5Iiwib21pdCIsImRlZmF1bHRzIiwiY2xvbmUiLCJ0YXAiLCJpbnRlcmNlcHRvciIsImVxIiwiYVN0YWNrIiwiYlN0YWNrIiwiY2xhc3NOYW1lIiwiZ2xvYmFsIiwibXVsdGlsaW5lIiwiaWdub3JlQ2FzZSIsImFDdG9yIiwiY29uc3RydWN0b3IiLCJiQ3RvciIsImlzRXF1YWwiLCJpc0VtcHR5IiwiaXNTdHJpbmciLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsImlzRmluaXRlIiwiaXNOYU4iLCJpc051bWJlciIsImlzQm9vbGVhbiIsImlzTnVsbCIsImlzVW5kZWZpbmVkIiwibm9Db25mbGljdCIsImNvbnN0YW50IiwiYWNjdW0iLCJmbG9vciIsIkRhdGUiLCJnZXRUaW1lIiwiZW50aXR5TWFwIiwiZXNjYXBlIiwiJiIsIlwiIiwiJyIsInVuZXNjYXBlIiwiZW50aXR5UmVnZXhlcyIsIlJlZ0V4cCIsImpvaW4iLCJzdHJpbmciLCJtYXRjaCIsIm1peGluIiwiaWRDb3VudGVyIiwidW5pcXVlSWQiLCJpZCIsInRlbXBsYXRlU2V0dGluZ3MiLCJldmFsdWF0ZSIsImludGVycG9sYXRlIiwibm9NYXRjaCIsImVzY2FwZXMiLCJcciIsIlxuIiwiXHQiLCLigKgiLCLigKkiLCJlc2NhcGVyIiwidGVtcGxhdGUiLCJkYXRhIiwic2V0dGluZ3MiLCJyZW5kZXIiLCJtYXRjaGVyIiwib2Zmc2V0IiwidmFyaWFibGUiLCJlIiwiY2hhaW4iLCJfY2hhaW4iLCJidWlsZF9zY2FubmVycyIsInNjYW5uZXJzIiwiRU9GU2Nhbm5lciIsIkVPTFNjYW5uZXIiLCJFT1NTY2FubmVyIiwiQ29tbWVudFNjYW5uZXIiLCJLZXl3b3JkU2Nhbm5lciIsIk9wZXJhdG9yU2Nhbm5lciIsIlN0cmluZ1NjYW5uZXIiLCJEZWNpbWFsU2Nhbm5lciIsIkhleGFTY2FubmVyIiwiT2N0YWxTY2FubmVyIiwiSWRlbnRpZmllclNjYW5uZXIiLCJVbmtub3duU2Nhbm5lciIsImxhc3RfdG9rZW4iLCJ3b3JkIiwidG9VcHBlckNhc2UiLCJfc2Nhbm5lcnMiLCJCYXNpY1NjYW5uZXIiLCJfY2xhc3NDYWxsQ2hlY2siLCJwb3MiLCJzdGF0ZXMiLCJzdGF0ZSIsInNraXBCbGFuayIsIl9zdGF0ZW1lbnRzIiwiQmFzaWNQYXJzZXIiLCJzdGF0ZW1lbnRfcGFyc2VyIiwiY29kZSIsInNldFNvdXJjZSIsIl9uZXh0VG9rZW4iLCJsaW5lcyIsIl9wYXJzZUxpbmUiLCJsaW5lTnVtIiwiX2lzTGluZVRlcm1pbmF0b3IiLCJfcGFyc2VTdGF0ZW1lbnQiLCJzdGF0ZW1lbnQiLCJwYXJzZXIiLCJwYXJhbXMiLCJpZGVudGlmaWVyIiwiX3Rocm93RXJyb3IiLCJtc2ciLCJFYXN5YmFzaWMiLCJ3aW5kb3ciLCJCQVNJQyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixFQUFBVSxFQUFBZSxFQUFBRSxFQUFBLFNBQUFBLEdBQWdILE9BQUFOLEVBQUFNLElBQXFCQyxLQUFBLEtBQUFELElBQ3JJLE9BQUFGLEdBSUF6QixFQUFBNkIsRUFBQSxTQUFBMUIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBcUIsV0FDQSxXQUEyQixPQUFBckIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQWlCLEVBQUFDLEdBQXNELE9BQUFqQixPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUF1QixFQUFBQyxJQUd0RC9CLEVBQUFrQyxFQUFBLEdBSUFsQyxJQUFBbUMsRUFBQSxrQ0NsRkFqQyxFQUFRa0MsWUFBY3RCLE9BQU91QixRQUN6QkMsV0FBWSxFQUNaQyxRQUFTLEVBQ1RDLElBQUssRUFDTEMsUUFBUyxFQUNUQyxXQUFZLEVBQ1pDLFVBQVcsRUFDWEMsUUFBUyxFQUNUQyxTQUFVLEVBQ1ZDLGVBQWdCLEdBQ2hCQyxPQUFRLEVBQ1JDLFdBQVksRUFDWkMsUUFBUyxHQUNUQyxJQUFLLEdBQ0xDLFdBQVksR0FDWkMsSUFBSyxHQUNMQyxNQUFPLEdBQ1BDLFNBQVUsS0FHZHBELEVBQVFxRCxVQUNKLE1BQU8sTUFBTyxPQUFRLE9BQVEsUUFBUyxNQUFPLE9BQVEsTUFBTyxPQUFRLE1BQU8sS0FDNUUsVUFBVyxRQUFTLFNBQVUsT0FBUSxRQUFTLFFBQVMsT0FBUSxNQUFPLEtBQ3ZFLE9BQVEsTUFBTyxPQUFRLE9BQVEsTUFBTyxTQUFVLFFBQVMsUUFBUyxPQUFRLE9BQzFFLFFBQVMsT0FBUSxRQUFTLE9BQVEsUUFBUyxTQUFVLFNBQVUsT0FBUSxRQUN2RSxTQUFVLFNBQVUsU0FBVSxTQUFVLE9BQVEsUUFBUyxPQUFRLE9BQVEsUUFDekUsU0FBVSxZQUFhLE9BQVEsUUFBUyxPQUFRLFFBQVMsT0FBUSxRQUFTLE1BQzFFLFFBQVMsUUFBUyxRQUFTLFFBQVMsT0FBUSxPQUFRLFNBQVUsU0FBVSxNQUN4RSxTQUFVLEtBQU0sT0FBUSxPQUFRLE9BQVEsTUFBTyxLQUFNLE9BQVEsTUFBTyxNQUFPLE1BQzNFLFVBQVcsUUFBUyxRQUFTLFNBQVUsU0FBVSxRQUFTLE1BQU8sU0FDakUsTUFBTyxNQUFPLE1BQU8sT0FBUSxPQUFRLE9BQVEsU0FBVSxRQUFTLFFBQVMsU0FDekUsT0FBUSxPQUFRLE9BQVEsT0FBUSxNQUFPLE1BQU8sUUFBUyxTQUFVLFFBQVMsUUFDMUUsUUFBUyxRQUFTLE1BQU8sU0FBVSxPQUFRLE9BQVEsUUFBUyxRQUFTLFFBQ3JFLFFBQVMsUUFBUyxRQUFTLFFBQVMsVUFBVyxPQUFRLFNBQVUsT0FBUSxVQUN6RSxRQUFTLFFBQVMsUUFBUyxPQUFRLFNBQVUsUUFBUyxTQUFVLE9BQVEsTUFBTyxNQUMvRSxNQUFPLE1BQU8sTUFBTyxNQUFPLE1BQU8sTUFBTyxNQUFPLE1BQU8sTUFBTyxNQUFPLE1BQU8sTUFDN0UsTUFBTyxPQUFRLE1BQU8sTUFBTyxPQUFRLE9BQVEsU0FBVSxPQUFRLE9BQVEsT0FBUSxPQUMvRSxPQUFRLE9BQVEsTUFBTyxNQUFPLFFBQVMsUUFBUyxNQUFPLE1BQU8sTUFBTyxRQUFTLEtBQzlFLFNBQVUsU0FBVSxTQUFVLFNBQVUsU0FBVSxPQUFRLE1BQU8sTUFBTyxNQUFPLEtBR25GckQs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LEVBQVNyWCxLQUFLMlcsaUJBQUwsSUFDQyxDQUNKVyxFQUFTRCxFQUFPclgsS0FBS0YsUUFBU0UsS0FBS3VGLFlBQWFnUyxFQUFXL1csTUFDL0RSLEtBQUtJLE1BQVFKLEtBQUtGLFFBQVFNLFlBTTVCSixLQUFLd1gsWUFBTCxpQkFBa0N4WCxLQUFLSSxNQUFNSSxXQU1qRFIsS0FBS3dYLFlBQUwsaUJBQWtDeFgsS0FBS0ksTUFBTUksTUFHakQsT0FDSTRXLFVBQVdBLEVBQ1hFLE9BQVFBLG9EQU1aLE9BQU90WCxLQUFLSSxNQUFNRyxNQUFRdkQsY0FBWWdCLEtBQ2xDZ0MsS0FBS0ksTUFBTUcsTUFBUXZELGNBQVlJLEtBQy9CNEMsS0FBS0ksTUFBTUcsTUFBUXZELGNBQVljLGdEQUtuQyxPQUFPa0MsS0FBS0ksTUFBTUcsTUFBUXZELGNBQVlJLEtBQ2xDNEMsS0FBS0ksTUFBTUcsTUFBUXZELGNBQVljLHlDQUtuQ2tDLEtBQUtJLE1BQVFKLEtBQUtGLFFBQVFPLDJDQUlsQm9YLEdBRVIsTUFBTUEscUJBeEhPZiw4WENOckI5YixFQUFBLFFBR004YyxhQUVGLFNBQUFBLGlHQUFhdEIsQ0FBQXBXLEtBQUEwWCxHQUNUMVgsS0FBS3FYLE9BQVMsSUFBSVgsa0RBR2hCbFcsR0FDRixPQUFPUixLQUFLcVgsT0FBTzVSLE1BQU1qRixZQUlqQ21YLE9BQU9DLE1BQVFGLFlBRUFBIiwiZmlsZSI6IkVhc3liYXNpYy5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOCk7XG4iLCJleHBvcnRzLnRva2VuX3R5cGVzID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgV2hpdGVzcGFjZTogMCxcbiAgICBDb21tZW50OiAxLFxuICAgIEVPTDogMixcbiAgICBLZXl3b3JkOiAzLFxuICAgIERlY2lhbWxOdW06IDQsXG4gICAgT2NhdGFsTnVtOiA1LFxuICAgIEhleGFOdW06IDYsXG4gICAgT3BlcmF0b3I6IDcsXG4gICAgVW5pYXJ5T3BlcmF0b3I6IDE0LFxuICAgIFN0cmluZzogOCxcbiAgICBJZGVudGlmaWVyOiA5LFxuICAgIFVua25vd246IDEwLFxuICAgIEVPRjogMTEsXG4gICAgTGluZU51bWJlcjogMTIsXG4gICAgRU9TOiAxMyxcbiAgICBBcnJheTogMTUsXG4gICAgRnVuY3Rpb246IDE2LFxufSk7XG5cbmV4cG9ydHMua2V5d29yZHMgPSBbXG4gICAgJ0VORCcsICdGT1InLCAnTkVYVCcsICdEQVRBJywgJ0lOUFVUJywgJ0RJTScsICdSRUFEJywgJ0xFVCcsICdHT1RPJywgJ1JVTicsICdJRicsXG4gICAgJ1JFU1RPUkUnLCAnR09TVUInLCAnUkVUVVJOJywgJ1NUT1AnLCAnUFJJTlQnLCAnQ0xFQVInLCAnTElTVCcsICdORVcnLCAnT04nLFxuICAgICdXQUlUJywgJ0RFRicsICdQT0tFJywgJ0NPTlQnLCAnT1VUJywgJ0xQUklOVCcsICdMTElTVCcsICdXSURUSCcsICdFTFNFJywgJ1RST04nLFxuICAgICdUUk9GRicsICdTV0FQJywgJ0VSQVNFJywgJ0VESVQnLCAnRVJST1InLCAnUkVTVU1FJywgJ0RFTEVURScsICdBVVRPJywgJ1JFTlVNJyxcbiAgICAnREVGU1RSJywgJ0RFRklOVCcsICdERUZTTkcnLCAnREVGREJMJywgJ0xJTkUnLCAnV0hJTEUnLCAnV0VORCcsICdDQUxMJywgJ1dSSVRFJyxcbiAgICAnT1BUSU9OJywgJ1JBTkRPTUlaRScsICdPUEVOJywgJ0NMT1NFJywgJ0xPQUQnLCAnTUVSR0UnLCAnU0FWRScsICdDT0xPUicsICdDTFMnLFxuICAgICdNT1RPUicsICdCU0FWRScsICdCTE9BRCcsICdTT1VORCcsICdCRUVQJywgJ1BTRVQnLCAnUFJFU0VUJywgJ1NDUkVFTicsICdLRVknLFxuICAgICdMT0NBVEUnLCAnVE8nLCAnVEhFTicsICdUQUIoJywgJ1NURVAnLCAnVVNSJywgJ0ZOJywgJ1NQQygnLCAnTk9UJywgJ0VSTCcsICdFUlInLFxuICAgICdTVFJJTkckJywgJ1VTSU5HJywgJ0lOU1RSJywgJ1ZBUlBUUicsICdDU1JMSU4nLCAnUE9JTlQnLCAnT0ZGJywgJ0lOS0VZJCcsXG4gICAgJ0NWSScsICdDVlMnLCAnQ1ZEJywgJ01LSSQnLCAnTUtTJCcsICdNS0QkJywgJ0VYVEVSUicsICdGSUxFUycsICdGSUVMRCcsICdTWVNURU0nLFxuICAgICdOQU1FJywgJ0xTRVQnLCAnUlNFVCcsICdLSUxMJywgJ1BVVCcsICdHRVQnLCAnUkVTRVQnLCAnQ09NTU9OJywgJ0NIQUlOJywgJ0RBVEUkJyxcbiAgICAnVElNRSQnLCAnUEFJTlQnLCAnQ09NJywgJ0NJUkNMRScsICdEUkFXJywgJ1BMQVknLCAnVElNRVInLCAnRVJERVYnLCAnSU9DVEwnLFxuICAgICdDSERJUicsICdNS0RJUicsICdSTURJUicsICdTSEVMTCcsICdFTlZJUk9OJywgJ1ZJRVcnLCAnV0lORE9XJywgJ1BNQVAnLCAnUEFMRVRURScsXG4gICAgJ0xDT1BZJywgJ0NBTExTJywgJ1BDT1BZJywgJ0xPQ0snLCAnVU5MT0NLJywgJ0xFRlQkJywgJ1JJR0hUJCcsICdNSUQkJywgJ1NHTicsICdJTlQnLFxuICAgICdBQlMnLCAnU1FSJywgJ1JORCcsICdTSU4nLCAnTE9HJywgJ0VYUCcsICdDT1MnLCAnVEFOJywgJ0FUTicsICdGUkUnLCAnSU5QJywgJ1BPUycsXG4gICAgJ0xFTicsICdTVFIkJywgJ1ZBTCcsICdBU0MnLCAnQ0hSJCcsICdQRUVLJywgJ1NQQUNFJCcsICdPQ1QkJywgJ0hFWCQnLCAnTFBPUycsICdDSU5UJyxcbiAgICAnQ1NORycsICdDREJMJywgJ0ZJWCcsICdQRU4nLCAnU1RJQ0snLCAnU1RSSUcnLCAnRU9GJywgJ0xPQycsICdMT0YnLCAnTk9JU0UnLCAnQVMnLFxuICAgICdTSEFSRUQnLCAnQUNDRVNTJywgJ1JBTkRPTScsICdPVVRQVVQnLCAnQVBQRU5EJywgJ0JBU0UnLCAnU0VHJywgJ0FMTCcsICdSRU0nLCBcIidcIlxuXVxuXG5leHBvcnRzLmJpbmFyeV9vcGVyYXRvcnMgPSB7XG4gICAgJ14nOiAxMixcbiAgICAnKic6IDExLCAnLyc6IDExLFxuICAgICdcXFxcJzogMTAsXG4gICAgJ01PRCc6IDksXG4gICAgJysnOiA4LCAnLSc6IDgsXG4gICAgJz4nOiA3LCAnPCc6IDcsXG4gICAgJz49JzogNywgJzw9JzogNyxcbiAgICAnPT4nOiA3LCAnPTwnOiA3LFxuICAgICc8Pic6IDcsICc+PCc6IDcsICc9JzogNyxcbiAgICAnQU5EJzogNSwgJ09SJzogNCxcbiAgICAnWE9SJzogMywgJ0VRVic6IDIsXG4gICAgJ0lNUCc6IDFcbn07XG5cbmV4cG9ydHMudW5hcnlfb3BlcmF0b3JzID0gW1xuICAgICctJywgJysnLCAnTk9UJ1xuXTsiLCJpbXBvcnQgeyB0b2tlbl90eXBlcywgYmluYXJ5X29wZXJhdG9ycyB9IGZyb20gJy4uL3Rva2VuLmpzJztcblxuY29uc3QgZXhwcl90eXBlcyA9IHtcbiAgICBsb2NpZ2FsRXhwcjogMSxcbiAgICBCaW5hcnlFeHByOiAyLFxuICAgIFVuYXJ5RXhwcjogM1xufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4cHJlc3Npb25QYXJzZXIge1xuXG4gICAgcGFyc2Uoc2Nhbm5lciwgdW50aWwpIHtcbiAgICAgICAgdGhpcy5zY2FubmVyID0gc2Nhbm5lcjtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VVbnRpbCh1bnRpbCk7XG4gICAgfVxuXG4gICAgX3BhcnNlVW50aWwodW50aWwpIHtcbiAgICAgICAgdmFyIG5vZGVzID0gW107XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLnNjYW5uZXIucGVla1N0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gdGhpcy5zY2FubmVyLnNjYW4oKTtcbiAgICAgICAgICAgIHRoaXMuc2Nhbm5lci5zZWVrU3RhdGUoKTtcblxuICAgICAgICAgICAgLy8gYnJlYWsgaWYgdW50aWwgcmVhY2hlc1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRva2VuIHx8IHRoaXMudG9rZW4udHlwZSA9PSB0b2tlbl90eXBlcy5FT0wpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBgRXhwZWN0ZWQgJHt1bnRpbH1gXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLnRva2VuLnRleHQgfHwgdGhpcy50b2tlbi50ZXh0ID09IHVudGlsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2tlbiA9IHRoaXMuc2Nhbm5lci5zY2FuKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElnbm9yZSAnLCdcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudG9rZW4udGV4dCA9PSAnLCcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSB0aGlzLl9iaW5hcnlQYXJzZXIoKTtcbiAgICAgICAgICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlcztcbiAgICB9XG5cbiAgICBfcmVhZFRva2VuKCkge1xuICAgICAgICB0aGlzLnNjYW5uZXIucGVla1N0YXRlKCk7XG4gICAgICAgIHRoaXMudG9rZW4gPSB0aGlzLnNjYW5uZXIuc2NhbigpO1xuXG4gICAgICAgIC8vIERlY2ltYWwgTnVtYmVyXG4gICAgICAgIGlmICh0aGlzLnRva2VuLnR5cGUgPT0gdG9rZW5fdHlwZXMuRGVjaWFtbE51bSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy50b2tlbi50ZXh0LnJlcGxhY2UoLyghfCV8I3wpJC8sICcnKSB8fCAwXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLnRva2VuLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gT2N0YWwgTnVtYmVyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudG9rZW4udHlwZSA9PSB0b2tlbl90eXBlcy5PY2F0YWxOdW0pIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudG9rZW4udGV4dC5yZXBsYWNlKC9eJm8/L2ksICcnKSB8fCAnMCc7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih0aGlzLnRva2VuLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHBhcnNlRmxvYXQodmFsdWUsIDgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSGV4YSBOdW1iZXJcbiAgICAgICAgZWxzZSBpZiAodGhpcy50b2tlbi50eXBlID09IHRva2VuX3R5cGVzLkhleGFOdW0pIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMudG9rZW4udGV4dC5yZXBsYWNlKC9eJmgvaSwgJycpIHx8ICcwJztcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHRoaXMudG9rZW4sIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGFyc2VGbG9hdCh2YWx1ZSwgMTYpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3RyaW5nXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudG9rZW4udHlwZSA9PSB0b2tlbl90eXBlcy5TdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXJyYXlcbiAgICAgICAgZWxzZSBpZiAodGhpcy50b2tlbi50ZXh0ID09ICdbJykge1xuICAgICAgICAgICAgcmV0dXJuIF9wYXJzZVVudGlsKCddJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVbmlhcnkgT3BlcmF0b3JzXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2lzVW5pYXJ5T3AodGhpcy50b2tlbi50ZXh0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0b2tlbl90eXBlcy5VbmlhcnlPcGVyYXRvcixcbiAgICAgICAgICAgICAgICBvcGVyYXRvcjogdGhpcy50b2tlbi50ZXh0LFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50OiB0aGlzLl9yZWFkVG9rZW4oKSxcbiAgICAgICAgICAgICAgICBwcmVmaXg6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBhcmVudGhlc2VzXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudG9rZW4udGV4dCA9PSAnKCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJzZVVudGlsKCcpJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBWYXJpYWJsZXMgYW5kIEZ1bmN0aW9uIENhbGxzXG4gICAgICAgIGVsc2UgaWYgKHRoaXMudG9rZW4udHlwZSA9PSB0b2tlbl90eXBlcy5JZGVudGlmaWVyKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMudG9rZW47XG4gICAgICAgICAgICB0aGlzLnRva2VuID0gdGhpcy5zY2FubmVyLnNjYW4oKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudG9rZW4udGV4dCA9PSAnWycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0b2tlbl90eXBlcy5BcnJheSxcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBub2RlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogdGhpcy5fcGFyc2VVbnRpbCgnXScpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnRva2VuLnRleHQgPT0gJygnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdG9rZW5fdHlwZXMuRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdDogbm9kZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHRoaXMuX3BhcnNlVW50aWwoJyknKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2Nhbm5lci5zZWVrU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9iaW5hcnlQcmVjZWRlbmNlKG9wKSB7XG4gICAgICAgIHJldHVybiBiaW5hcnlfb3BlcmF0b3JzW29wXSB8fCAwO1xuICAgIH1cblxuICAgIF9yZWFkQmluYXJ5VG9rZW4oKSB7XG4gICAgICAgIHRoaXMuc2Nhbm5lci5wZWVrU3RhdGUoKTtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRoaXMuc2Nhbm5lci5zY2FuKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudG9rZW4udHlwZSA9PSB0b2tlbl90eXBlcy5PcGVyYXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24odGhpcy50b2tlbiwge1xuICAgICAgICAgICAgICAgIHByZWM6IHRoaXMuX2JpbmFyeVByZWNlZGVuY2UodGhpcy50b2tlbi50ZXh0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2Nhbm5lci5zZWVrU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9pc1VuaWFyeU9wKHRleHQpIHtcbiAgICAgICAgdmFyIG9wZXJhdG9ycyA9IFsnKycsICctJywgJ05PVCddO1xuICAgICAgICByZXR1cm4gb3BlcmF0b3JzLmluZGV4T2YodGV4dCkgPiAtMTtcbiAgICB9XG5cbiAgICBfYmluYXJ5UGFyc2VyKCkge1xuICAgICAgICB2YXIgbGVmdCA9IHRoaXMuX3JlYWRUb2tlbigpO1xuICAgICAgICB2YXIgb3BlcmF0b3IgPSB0aGlzLl9yZWFkQmluYXJ5VG9rZW4oKTtcblxuICAgICAgICBpZiAoIW9wZXJhdG9yKSByZXR1cm4gbGVmdDtcblxuICAgICAgICB2YXIgcmlnaHQgPSB0aGlzLl9yZWFkVG9rZW4oKTtcbiAgICAgICAgaWYgKCFyaWdodCkge1xuICAgICAgICAgICAgdGhyb3cgYEV4cGVjdGVkIGV4cHJlc3Npb24gYWZ0ZXIgJHtvcGVyYXRvcn0sICR7dGhpcy5zY2FubmVyLmluZGV4fWBcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGFjayA9IFtsZWZ0LCBvcGVyYXRvciwgcmlnaHRdO1xuICAgICAgICB3aGlsZSAob3BlcmF0b3IgPSB0aGlzLl9yZWFkQmluYXJ5VG9rZW4oKSkge1xuICAgICAgICAgICAgaWYgKG9wZXJhdG9yLnByZWMgPT0gMCkgYnJlYWs7XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YWNrKTtcbiAgICAgICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAyICYmIG9wZXJhdG9yLnByZWMgPD0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMl0ucHJlYykge1xuICAgICAgICAgICAgICAgIHJpZ2h0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgb3BlcmF0b3IgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICBsZWZ0ID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSB0aGlzLl9jcmVhdGVCaW5hcnlFeHByZXNzaW9uKG9wZXJhdG9yLCBsZWZ0LCByaWdodCk7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaChub2RlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5vZGUgPSB0aGlzLl9yZWFkVG9rZW4oKTtcbiAgICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgICAgIHRocm93IGBFeHBlY3RlZCBleHByZXNzaW9uIGFmdGVyICR7b3BlcmF0b3J9LCAke3RoaXMuc2Nhbm5lci5pbmRleH1gXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFjay5wdXNoKG9wZXJhdG9yLCBub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpID0gc3RhY2subGVuZ3RoIC0gMTtcbiAgICAgICAgbm9kZSA9IHN0YWNrW2ldO1xuICAgICAgICB3aGlsZSAoaSA+IDEpIHtcbiAgICAgICAgICAgIG5vZGUgPSB0aGlzLl9jcmVhdGVCaW5hcnlFeHByZXNzaW9uKHN0YWNrW2kgLSAxXSwgc3RhY2tbaSAtIDJdLCBub2RlKTtcbiAgICAgICAgICAgIGkgLT0gMjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQmluYXJ5RXhwcmVzc2lvbihvcCwgbGVmdCwgcmlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IGV4cHJfdHlwZXMuQmluYXJ5RXhwcixcbiAgICAgICAgICAgIG9wZXJhdG9yOiBvcC50ZXh0LFxuICAgICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICAgIHJpZ2h0OiByaWdodFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsInZhciBfID0gcmVxdWlyZShcInVuZGVyc2NvcmVcIik7XG52YXIgT3JkZXJlZERpY3Q7XG4vLyBUaGlzIGZpbGUgZGVmaW5lcyBhbiBvcmRlcmVkIGRpY3Rpb25hcnkgYWJzdHJhY3Rpb24gdGhhdCBpcyB1c2VmdWwgZm9yXG4vLyBtYWludGFpbmluZyBhIGRhdGFzZXQgYmFja2VkIGJ5IG9ic2VydmVDaGFuZ2VzLiAgSXQgc3VwcG9ydHMgb3JkZXJpbmcgaXRlbXNcbi8vIGJ5IHNwZWNpZnlpbmcgdGhlIGl0ZW0gdGhleSBub3cgY29tZSBiZWZvcmUuXG5cbi8vIFRoZSBpbXBsZW1lbnRhdGlvbiBpcyBhIGRpY3Rpb25hcnkgdGhhdCBjb250YWlucyBub2RlcyBvZiBhIGRvdWJseS1saW5rZWRcbi8vIGxpc3QgYXMgaXRzIHZhbHVlcy5cblxuLy8gY29uc3RydWN0cyBhIG5ldyBlbGVtZW50IHN0cnVjdFxuLy8gbmV4dCBhbmQgcHJldiBhcmUgd2hvbGUgZWxlbWVudHMsIG5vdCBrZXlzLlxudmFyIGVsZW1lbnQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgbmV4dCwgcHJldikge1xuICByZXR1cm4ge1xuICAgIGtleToga2V5LFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBuZXh0OiBuZXh0LFxuICAgIHByZXY6IHByZXZcbiAgfTtcbn07XG5PcmRlcmVkRGljdCA9IGZ1bmN0aW9uICgvKiAuLi4gKi8pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzZWxmLl9kaWN0ID0ge307XG4gIHNlbGYuX2ZpcnN0ID0gbnVsbDtcbiAgc2VsZi5fbGFzdCA9IG51bGw7XG4gIHNlbGYuX3NpemUgPSAwO1xuICB2YXIgYXJncyA9IF8udG9BcnJheShhcmd1bWVudHMpO1xuICBzZWxmLl9zdHJpbmdpZnkgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4geDsgfTtcbiAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAnZnVuY3Rpb24nKVxuICAgIHNlbGYuX3N0cmluZ2lmeSA9IGFyZ3Muc2hpZnQoKTtcbiAgXy5lYWNoKGFyZ3MsIGZ1bmN0aW9uIChrdikge1xuICAgIHNlbGYucHV0QmVmb3JlKGt2WzBdLCBrdlsxXSwgbnVsbCk7XG4gIH0pO1xufTtcblxuXy5leHRlbmQoT3JkZXJlZERpY3QucHJvdG90eXBlLCB7XG4gIC8vIHRoZSBcInByZWZpeCBrZXlzIHdpdGggYSBzcGFjZVwiIHRoaW5nIGNvbWVzIGZyb20gaGVyZVxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vZG9jdW1lbnRjbG91ZC91bmRlcnNjb3JlL2lzc3Vlcy8zNzYjaXNzdWVjb21tZW50LTI4MTU2NDlcbiAgX2s6IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIFwiIFwiICsgdGhpcy5fc3RyaW5naWZ5KGtleSk7IH0sXG5cbiAgZW1wdHk6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuICFzZWxmLl9maXJzdDtcbiAgfSxcbiAgc2l6ZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gc2VsZi5fc2l6ZTtcbiAgfSxcbiAgX2xpbmtFbHRJbjogZnVuY3Rpb24gKGVsdCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoIWVsdC5uZXh0KSB7XG4gICAgICBlbHQucHJldiA9IHNlbGYuX2xhc3Q7XG4gICAgICBpZiAoc2VsZi5fbGFzdClcbiAgICAgICAgc2VsZi5fbGFzdC5uZXh0ID0gZWx0O1xuICAgICAgc2VsZi5fbGFzdCA9IGVsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgZWx0LnByZXYgPSBlbHQubmV4dC5wcmV2O1xuICAgICAgZWx0Lm5leHQucHJldiA9IGVsdDtcbiAgICAgIGlmIChlbHQucHJldilcbiAgICAgICAgZWx0LnByZXYubmV4dCA9IGVsdDtcbiAgICB9XG4gICAgaWYgKHNlbGYuX2ZpcnN0ID09PSBudWxsIHx8IHNlbGYuX2ZpcnN0ID09PSBlbHQubmV4dClcbiAgICAgIHNlbGYuX2ZpcnN0ID0gZWx0O1xuICB9LFxuICBfbGlua0VsdE91dDogZnVuY3Rpb24gKGVsdCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoZWx0Lm5leHQpXG4gICAgICBlbHQubmV4dC5wcmV2ID0gZWx0LnByZXY7XG4gICAgaWYgKGVsdC5wcmV2KVxuICAgICAgZWx0LnByZXYubmV4dCA9IGVsdC5uZXh0O1xuICAgIGlmIChlbHQgPT09IHNlbGYuX2xhc3QpXG4gICAgICBzZWxmLl9sYXN0ID0gZWx0LnByZXY7XG4gICAgaWYgKGVsdCA9PT0gc2VsZi5fZmlyc3QpXG4gICAgICBzZWxmLl9maXJzdCA9IGVsdC5uZXh0O1xuICB9LFxuICBwdXRCZWZvcmU6IGZ1bmN0aW9uIChrZXksIGl0ZW0sIGJlZm9yZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoc2VsZi5fZGljdFtzZWxmLl9rKGtleSldKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSXRlbSBcIiArIGtleSArIFwiIGFscmVhZHkgcHJlc2VudCBpbiBPcmRlcmVkRGljdFwiKTtcbiAgICB2YXIgZWx0ID0gYmVmb3JlID9cbiAgICAgICAgICBlbGVtZW50KGtleSwgaXRlbSwgc2VsZi5fZGljdFtzZWxmLl9rKGJlZm9yZSldKSA6XG4gICAgICAgICAgZWxlbWVudChrZXksIGl0ZW0sIG51bGwpO1xuICAgIGlmIChlbHQubmV4dCA9PT0gdW5kZWZpbmVkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY291bGQgbm90IGZpbmQgaXRlbSB0byBwdXQgdGhpcyBvbmUgYmVmb3JlXCIpO1xuICAgIHNlbGYuX2xpbmtFbHRJbihlbHQpO1xuICAgIHNlbGYuX2RpY3Rbc2VsZi5fayhrZXkpXSA9IGVsdDtcbiAgICBzZWxmLl9zaXplKys7XG4gIH0sXG4gIGFwcGVuZDogZnVuY3Rpb24gKGtleSwgaXRlbSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLnB1dEJlZm9yZShrZXksIGl0ZW0sIG51bGwpO1xuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGVsdCA9IHNlbGYuX2RpY3Rbc2VsZi5fayhrZXkpXTtcbiAgICBpZiAoZWx0ID09PSB1bmRlZmluZWQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJdGVtIFwiICsga2V5ICsgXCIgbm90IHByZXNlbnQgaW4gT3JkZXJlZERpY3RcIik7XG4gICAgc2VsZi5fbGlua0VsdE91dChlbHQpO1xuICAgIHNlbGYuX3NpemUtLTtcbiAgICBkZWxldGUgc2VsZi5fZGljdFtzZWxmLl9rKGtleSldO1xuICAgIHJldHVybiBlbHQudmFsdWU7XG4gIH0sXG4gIGdldDogZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoc2VsZi5oYXMoa2V5KSlcbiAgICAgICAgcmV0dXJuIHNlbGYuX2RpY3Rbc2VsZi5fayhrZXkpXS52YWx1ZTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9LFxuICBoYXM6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIF8uaGFzKHNlbGYuX2RpY3QsIHNlbGYuX2soa2V5KSk7XG4gIH0sXG4gIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgaXRlbXMgaW4gdGhpcyBkaWN0aW9uYXJ5IGluIG9yZGVyLCBjYWxsaW5nXG4gIC8vIGl0ZXIodmFsdWUsIGtleSwgaW5kZXgpIG9uIGVhY2ggb25lLlxuXG4gIC8vIFN0b3BzIHdoZW5ldmVyIGl0ZXIgcmV0dXJucyBPcmRlcmVkRGljdC5CUkVBSywgb3IgYWZ0ZXIgdGhlIGxhc3QgZWxlbWVudC5cbiAgZm9yRWFjaDogZnVuY3Rpb24gKGl0ZXIpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBlbHQgPSBzZWxmLl9maXJzdDtcbiAgICB3aGlsZSAoZWx0ICE9PSBudWxsKSB7XG4gICAgICB2YXIgYiA9IGl0ZXIoZWx0LnZhbHVlLCBlbHQua2V5LCBpKTtcbiAgICAgIGlmIChiID09PSBPcmRlcmVkRGljdC5CUkVBSylcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZWx0ID0gZWx0Lm5leHQ7XG4gICAgICBpKys7XG4gICAgfVxuICB9LFxuICBmaXJzdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoc2VsZi5lbXB0eSgpKVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc2VsZi5fZmlyc3Qua2V5O1xuICB9LFxuICBmaXJzdFZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmIChzZWxmLmVtcHR5KCkpXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzZWxmLl9maXJzdC52YWx1ZTtcbiAgfSxcbiAgbGFzdDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoc2VsZi5lbXB0eSgpKVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc2VsZi5fbGFzdC5rZXk7XG4gIH0sXG4gIGxhc3RWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoc2VsZi5lbXB0eSgpKVxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICByZXR1cm4gc2VsZi5fbGFzdC52YWx1ZTtcbiAgfSxcbiAgcHJldjogZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoc2VsZi5oYXMoa2V5KSkge1xuICAgICAgdmFyIGVsdCA9IHNlbGYuX2RpY3Rbc2VsZi5fayhrZXkpXTtcbiAgICAgIGlmIChlbHQucHJldilcbiAgICAgICAgcmV0dXJuIGVsdC5wcmV2LmtleTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIG5leHQ6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHNlbGYuaGFzKGtleSkpIHtcbiAgICAgIHZhciBlbHQgPSBzZWxmLl9kaWN0W3NlbGYuX2soa2V5KV07XG4gICAgICBpZiAoZWx0Lm5leHQpXG4gICAgICAgIHJldHVybiBlbHQubmV4dC5rZXk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBtb3ZlQmVmb3JlOiBmdW5jdGlvbiAoa2V5LCBiZWZvcmUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGVsdCA9IHNlbGYuX2RpY3Rbc2VsZi5fayhrZXkpXTtcbiAgICB2YXIgZWx0QmVmb3JlID0gYmVmb3JlID8gc2VsZi5fZGljdFtzZWxmLl9rKGJlZm9yZSldIDogbnVsbDtcbiAgICBpZiAoZWx0ID09PSB1bmRlZmluZWQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJdGVtIHRvIG1vdmUgaXMgbm90IHByZXNlbnRcIik7XG4gICAgaWYgKGVsdEJlZm9yZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBlbGVtZW50IHRvIG1vdmUgdGhpcyBvbmUgYmVmb3JlXCIpO1xuICAgIH1cbiAgICBpZiAoZWx0QmVmb3JlID09PSBlbHQubmV4dCkgLy8gbm8gbW92aW5nIG5lY2Vzc2FyeVxuICAgICAgcmV0dXJuO1xuICAgIC8vIHJlbW92ZSBmcm9tIGl0cyBvbGQgcGxhY2VcbiAgICBzZWxmLl9saW5rRWx0T3V0KGVsdCk7XG4gICAgLy8gcGF0Y2ggaW50byBpdHMgbmV3IHBsYWNlXG4gICAgZWx0Lm5leHQgPSBlbHRCZWZvcmU7XG4gICAgc2VsZi5fbGlua0VsdEluKGVsdCk7XG4gIH0sXG4gIC8vIExpbmVhciwgc2FkbHkuXG4gIGluZGV4T2Y6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHJldCA9IG51bGw7XG4gICAgc2VsZi5mb3JFYWNoKGZ1bmN0aW9uICh2LCBrLCBpKSB7XG4gICAgICBpZiAoc2VsZi5fayhrKSA9PT0gc2VsZi5fayhrZXkpKSB7XG4gICAgICAgIHJldCA9IGk7XG4gICAgICAgIHJldHVybiBPcmRlcmVkRGljdC5CUkVBSztcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJldDtcbiAgfSxcbiAgX2NoZWNrUmVwOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIF8uZWFjaChzZWxmLl9kaWN0LCBmdW5jdGlvbiAoaywgdikge1xuICAgICAgaWYgKHYubmV4dCA9PT0gdilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmV4dCBpcyBhIGxvb3BcIik7XG4gICAgICBpZiAodi5wcmV2ID09PSB2KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcmV2IGlzIGEgbG9vcFwiKTtcbiAgICB9KTtcbiAgfVxuXG59KTtcbk9yZGVyZWREaWN0LkJSRUFLID0ge1wiYnJlYWtcIjogdHJ1ZX07XG5cbm1vZHVsZS5leHBvcnRzID0gT3JkZXJlZERpY3Q7IiwiaW1wb3J0IG9yZGVyZWREaWN0IGZyb20gJ29yZGVyZWQtZGljdCc7XG5pbXBvcnQgRXhwcmVzc2lvblBhcnNlciBmcm9tICcuL2V4cHJlc3Npb24nO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZF9zYXRlbWVudHMgKCkge1xuICAgIHZhciBzdGF0ZW1lbnRzID0gbmV3IG9yZGVyZWREaWN0KCk7XG5cbiAgICBzdGF0ZW1lbnRzWydCRUVQJ10gPSBCZWVwUGFyc2VyO1xuICAgIHN0YXRlbWVudHNbJ0xFVCddID0gTGV0UGFyc2VyO1xuXG4gICAgcmV0dXJuIHN0YXRlbWVudHM7XG59XG5cblxuLy8gQkVFUCBmcmVxLCBkdXJhdGlvblxuZnVuY3Rpb24gQmVlcFBhcnNlcihzY25yLCBleHByX3BhcnNlcil7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnJlcTogZXhwcl9wYXJzZXIucGFyc2Uoc2NuciwgJywnKSxcbiAgICAgICAgZHVyYXRpb246IGV4cHJfcGFyc2VyLnBhcnNlKHNjbnIsICdcXG4nKSxcbiAgICB9XG59XG5cbi8vIFtMRVRdIHggPSAxMlxuZnVuY3Rpb24gTGV0UGFyc2VyKHNjbnIsIGV4cHJfcGFyc2VyLCBpZGVudCl7XG4gICAgaWYgKCFpZGVudCl7XG4gICAgICAgIGlkZW50ID0gc2Nuci5zY2FuKCkudGV4dDtcblxuICAgICAgICB2YXIgdG9rZW4gPSBzY25yLnNjYW4oKTtcbiAgICAgICAgaWYgKHRva2VuLnRleHQgIT0gJz0nKVxuICAgICAgICAgICAgdGhyb3cgYEludmFsaWQgdG9rZW4gJHt0b2tlbi50ZXh0fWA7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGlkZW50OiBpZGVudCxcbiAgICAgICAgdmFsOiBleHByX3BhcnNlci5wYXJzZShzY25yLCAnXFxuJyksXG4gICAgfVxufVxuIiwiLy8gICAgIFVuZGVyc2NvcmUuanMgMS42LjBcbi8vICAgICBodHRwOi8vdW5kZXJzY29yZWpzLm9yZ1xuLy8gICAgIChjKSAyMDA5LTIwMTQgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIGFuZCBJbnZlc3RpZ2F0aXZlIFJlcG9ydGVycyAmIEVkaXRvcnNcbi8vICAgICBVbmRlcnNjb3JlIG1heSBiZSBmcmVlbHkgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLy8gQmFzZWxpbmUgc2V0dXBcbiAgLy8gLS0tLS0tLS0tLS0tLS1cblxuICAvLyBFc3RhYmxpc2ggdGhlIHJvb3Qgb2JqZWN0LCBgd2luZG93YCBpbiB0aGUgYnJvd3Nlciwgb3IgYGV4cG9ydHNgIG9uIHRoZSBzZXJ2ZXIuXG4gIHZhciByb290ID0gdGhpcztcblxuICAvLyBTYXZlIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYF9gIHZhcmlhYmxlLlxuICB2YXIgcHJldmlvdXNVbmRlcnNjb3JlID0gcm9vdC5fO1xuXG4gIC8vIEVzdGFibGlzaCB0aGUgb2JqZWN0IHRoYXQgZ2V0cyByZXR1cm5lZCB0byBicmVhayBvdXQgb2YgYSBsb29wIGl0ZXJhdGlvbi5cbiAgdmFyIGJyZWFrZXIgPSB7fTtcblxuICAvLyBTYXZlIGJ5dGVzIGluIHRoZSBtaW5pZmllZCAoYnV0IG5vdCBnemlwcGVkKSB2ZXJzaW9uOlxuICB2YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSwgT2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlLCBGdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbiAgLy8gQ3JlYXRlIHF1aWNrIHJlZmVyZW5jZSB2YXJpYWJsZXMgZm9yIHNwZWVkIGFjY2VzcyB0byBjb3JlIHByb3RvdHlwZXMuXG4gIHZhclxuICAgIHB1c2ggICAgICAgICAgICAgPSBBcnJheVByb3RvLnB1c2gsXG4gICAgc2xpY2UgICAgICAgICAgICA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgY29uY2F0ICAgICAgICAgICA9IEFycmF5UHJvdG8uY29uY2F0LFxuICAgIHRvU3RyaW5nICAgICAgICAgPSBPYmpQcm90by50b1N0cmluZyxcbiAgICBoYXNPd25Qcm9wZXJ0eSAgID0gT2JqUHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgLy8gQWxsICoqRUNNQVNjcmlwdCA1KiogbmF0aXZlIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9ucyB0aGF0IHdlIGhvcGUgdG8gdXNlXG4gIC8vIGFyZSBkZWNsYXJlZCBoZXJlLlxuICB2YXJcbiAgICBuYXRpdmVGb3JFYWNoICAgICAgPSBBcnJheVByb3RvLmZvckVhY2gsXG4gICAgbmF0aXZlTWFwICAgICAgICAgID0gQXJyYXlQcm90by5tYXAsXG4gICAgbmF0aXZlUmVkdWNlICAgICAgID0gQXJyYXlQcm90by5yZWR1Y2UsXG4gICAgbmF0aXZlUmVkdWNlUmlnaHQgID0gQXJyYXlQcm90by5yZWR1Y2VSaWdodCxcbiAgICBuYXRpdmVGaWx0ZXIgICAgICAgPSBBcnJheVByb3RvLmZpbHRlcixcbiAgICBuYXRpdmVFdmVyeSAgICAgICAgPSBBcnJheVByb3RvLmV2ZXJ5LFxuICAgIG5hdGl2ZVNvbWUgICAgICAgICA9IEFycmF5UHJvdG8uc29tZSxcbiAgICBuYXRpdmVJbmRleE9mICAgICAgPSBBcnJheVByb3RvLmluZGV4T2YsXG4gICAgbmF0aXZlTGFzdEluZGV4T2YgID0gQXJyYXlQcm90by5sYXN0SW5kZXhPZixcbiAgICBuYXRpdmVJc0FycmF5ICAgICAgPSBBcnJheS5pc0FycmF5LFxuICAgIG5hdGl2ZUtleXMgICAgICAgICA9IE9iamVjdC5rZXlzLFxuICAgIG5hdGl2ZUJpbmQgICAgICAgICA9IEZ1bmNQcm90by5iaW5kO1xuXG4gIC8vIENyZWF0ZSBhIHNhZmUgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgdXNlIGJlbG93LlxuICB2YXIgXyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBfKSByZXR1cm4gb2JqO1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBfKSkgcmV0dXJuIG5ldyBfKG9iaik7XG4gICAgdGhpcy5fd3JhcHBlZCA9IG9iajtcbiAgfTtcblxuICAvLyBFeHBvcnQgdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciAqKk5vZGUuanMqKiwgd2l0aFxuICAvLyBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBmb3IgdGhlIG9sZCBgcmVxdWlyZSgpYCBBUEkuIElmIHdlJ3JlIGluXG4gIC8vIHRoZSBicm93c2VyLCBhZGQgYF9gIGFzIGEgZ2xvYmFsIG9iamVjdCB2aWEgYSBzdHJpbmcgaWRlbnRpZmllcixcbiAgLy8gZm9yIENsb3N1cmUgQ29tcGlsZXIgXCJhZHZhbmNlZFwiIG1vZGUuXG4gIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF87XG4gICAgfVxuICAgIGV4cG9ydHMuXyA9IF87XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5fID0gXztcbiAgfVxuXG4gIC8vIEN1cnJlbnQgdmVyc2lvbi5cbiAgXy5WRVJTSU9OID0gJzEuNi4wJztcblxuICAvLyBDb2xsZWN0aW9uIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFRoZSBjb3JuZXJzdG9uZSwgYW4gYGVhY2hgIGltcGxlbWVudGF0aW9uLCBha2EgYGZvckVhY2hgLlxuICAvLyBIYW5kbGVzIG9iamVjdHMgd2l0aCB0aGUgYnVpbHQtaW4gYGZvckVhY2hgLCBhcnJheXMsIGFuZCByYXcgb2JqZWN0cy5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGZvckVhY2hgIGlmIGF2YWlsYWJsZS5cbiAgdmFyIGVhY2ggPSBfLmVhY2ggPSBfLmZvckVhY2ggPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gb2JqO1xuICAgIGlmIChuYXRpdmVGb3JFYWNoICYmIG9iai5mb3JFYWNoID09PSBuYXRpdmVGb3JFYWNoKSB7XG4gICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoID09PSArb2JqLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaikgPT09IGJyZWFrZXIpIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXlzW2ldXSwga2V5c1tpXSwgb2JqKSA9PT0gYnJlYWtlcikgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgcmVzdWx0cyBvZiBhcHBseWluZyB0aGUgaXRlcmF0b3IgdG8gZWFjaCBlbGVtZW50LlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgbWFwYCBpZiBhdmFpbGFibGUuXG4gIF8ubWFwID0gXy5jb2xsZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gcmVzdWx0cztcbiAgICBpZiAobmF0aXZlTWFwICYmIG9iai5tYXAgPT09IG5hdGl2ZU1hcCkgcmV0dXJuIG9iai5tYXAoaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHJlc3VsdHMucHVzaChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIHZhciByZWR1Y2VFcnJvciA9ICdSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlJztcblxuICAvLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsXG4gIC8vIG9yIGBmb2xkbGAuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGByZWR1Y2VgIGlmIGF2YWlsYWJsZS5cbiAgXy5yZWR1Y2UgPSBfLmZvbGRsID0gXy5pbmplY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBtZW1vLCBjb250ZXh0KSB7XG4gICAgdmFyIGluaXRpYWwgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcbiAgICBpZiAob2JqID09IG51bGwpIG9iaiA9IFtdO1xuICAgIGlmIChuYXRpdmVSZWR1Y2UgJiYgb2JqLnJlZHVjZSA9PT0gbmF0aXZlUmVkdWNlKSB7XG4gICAgICBpZiAoY29udGV4dCkgaXRlcmF0b3IgPSBfLmJpbmQoaXRlcmF0b3IsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGluaXRpYWwgPyBvYmoucmVkdWNlKGl0ZXJhdG9yLCBtZW1vKSA6IG9iai5yZWR1Y2UoaXRlcmF0b3IpO1xuICAgIH1cbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICBpZiAoIWluaXRpYWwpIHtcbiAgICAgICAgbWVtbyA9IHZhbHVlO1xuICAgICAgICBpbml0aWFsID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lbW8gPSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG1lbW8sIHZhbHVlLCBpbmRleCwgbGlzdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbml0aWFsKSB0aHJvdyBuZXcgVHlwZUVycm9yKHJlZHVjZUVycm9yKTtcbiAgICByZXR1cm4gbWVtbztcbiAgfTtcblxuICAvLyBUaGUgcmlnaHQtYXNzb2NpYXRpdmUgdmVyc2lvbiBvZiByZWR1Y2UsIGFsc28ga25vd24gYXMgYGZvbGRyYC5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYHJlZHVjZVJpZ2h0YCBpZiBhdmFpbGFibGUuXG4gIF8ucmVkdWNlUmlnaHQgPSBfLmZvbGRyID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgbWVtbywgY29udGV4dCkge1xuICAgIHZhciBpbml0aWFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gICAgaWYgKG9iaiA9PSBudWxsKSBvYmogPSBbXTtcbiAgICBpZiAobmF0aXZlUmVkdWNlUmlnaHQgJiYgb2JqLnJlZHVjZVJpZ2h0ID09PSBuYXRpdmVSZWR1Y2VSaWdodCkge1xuICAgICAgaWYgKGNvbnRleHQpIGl0ZXJhdG9yID0gXy5iaW5kKGl0ZXJhdG9yLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBpbml0aWFsID8gb2JqLnJlZHVjZVJpZ2h0KGl0ZXJhdG9yLCBtZW1vKSA6IG9iai5yZWR1Y2VSaWdodChpdGVyYXRvcik7XG4gICAgfVxuICAgIHZhciBsZW5ndGggPSBvYmoubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggIT09ICtsZW5ndGgpIHtcbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB9XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaW5kZXggPSBrZXlzID8ga2V5c1stLWxlbmd0aF0gOiAtLWxlbmd0aDtcbiAgICAgIGlmICghaW5pdGlhbCkge1xuICAgICAgICBtZW1vID0gb2JqW2luZGV4XTtcbiAgICAgICAgaW5pdGlhbCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZW1vID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCBtZW1vLCBvYmpbaW5kZXhdLCBpbmRleCwgbGlzdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbml0aWFsKSB0aHJvdyBuZXcgVHlwZUVycm9yKHJlZHVjZUVycm9yKTtcbiAgICByZXR1cm4gbWVtbztcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIGZpcnN0IHZhbHVlIHdoaWNoIHBhc3NlcyBhIHRydXRoIHRlc3QuIEFsaWFzZWQgYXMgYGRldGVjdGAuXG4gIF8uZmluZCA9IF8uZGV0ZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGFueShvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGZpbHRlcmAgaWYgYXZhaWxhYmxlLlxuICAvLyBBbGlhc2VkIGFzIGBzZWxlY3RgLlxuICBfLmZpbHRlciA9IF8uc2VsZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdHM7XG4gICAgaWYgKG5hdGl2ZUZpbHRlciAmJiBvYmouZmlsdGVyID09PSBuYXRpdmVGaWx0ZXIpIHJldHVybiBvYmouZmlsdGVyKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpIHJlc3VsdHMucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgZm9yIHdoaWNoIGEgdHJ1dGggdGVzdCBmYWlscy5cbiAgXy5yZWplY3QgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBfLmZpbHRlcihvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgcmV0dXJuICFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgIH0sIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGFsbCBvZiB0aGUgZWxlbWVudHMgbWF0Y2ggYSB0cnV0aCB0ZXN0LlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgZXZlcnlgIGlmIGF2YWlsYWJsZS5cbiAgLy8gQWxpYXNlZCBhcyBgYWxsYC5cbiAgXy5ldmVyeSA9IF8uYWxsID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBwcmVkaWNhdGUgfHwgKHByZWRpY2F0ZSA9IF8uaWRlbnRpdHkpO1xuICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAobmF0aXZlRXZlcnkgJiYgb2JqLmV2ZXJ5ID09PSBuYXRpdmVFdmVyeSkgcmV0dXJuIG9iai5ldmVyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmICghKHJlc3VsdCA9IHJlc3VsdCAmJiBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpKSkgcmV0dXJuIGJyZWFrZXI7XG4gICAgfSk7XG4gICAgcmV0dXJuICEhcmVzdWx0O1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgb2JqZWN0IG1hdGNoZXMgYSB0cnV0aCB0ZXN0LlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgc29tZWAgaWYgYXZhaWxhYmxlLlxuICAvLyBBbGlhc2VkIGFzIGBhbnlgLlxuICB2YXIgYW55ID0gXy5zb21lID0gXy5hbnkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSB8fCAocHJlZGljYXRlID0gXy5pZGVudGl0eSk7XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAobmF0aXZlU29tZSAmJiBvYmouc29tZSA9PT0gbmF0aXZlU29tZSkgcmV0dXJuIG9iai5zb21lKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHJlc3VsdCB8fCAocmVzdWx0ID0gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkpIHJldHVybiBicmVha2VyO1xuICAgIH0pO1xuICAgIHJldHVybiAhIXJlc3VsdDtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgdGhlIGFycmF5IG9yIG9iamVjdCBjb250YWlucyBhIGdpdmVuIHZhbHVlICh1c2luZyBgPT09YCkuXG4gIC8vIEFsaWFzZWQgYXMgYGluY2x1ZGVgLlxuICBfLmNvbnRhaW5zID0gXy5pbmNsdWRlID0gZnVuY3Rpb24ob2JqLCB0YXJnZXQpIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgICBpZiAobmF0aXZlSW5kZXhPZiAmJiBvYmouaW5kZXhPZiA9PT0gbmF0aXZlSW5kZXhPZikgcmV0dXJuIG9iai5pbmRleE9mKHRhcmdldCkgIT0gLTE7XG4gICAgcmV0dXJuIGFueShvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHRhcmdldDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbiAgXy5pbnZva2UgPSBmdW5jdGlvbihvYmosIG1ldGhvZCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHZhciBpc0Z1bmMgPSBfLmlzRnVuY3Rpb24obWV0aG9kKTtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIChpc0Z1bmMgPyBtZXRob2QgOiB2YWx1ZVttZXRob2RdKS5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgbWFwYDogZmV0Y2hpbmcgYSBwcm9wZXJ0eS5cbiAgXy5wbHVjayA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIF8ubWFwKG9iaiwgXy5wcm9wZXJ0eShrZXkpKTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaWx0ZXJgOiBzZWxlY3Rpbmcgb25seSBvYmplY3RzXG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ud2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgXy5tYXRjaGVzKGF0dHJzKSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmluZGA6IGdldHRpbmcgdGhlIGZpcnN0IG9iamVjdFxuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLmZpbmRXaGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy5maW5kKG9iaiwgXy5tYXRjaGVzKGF0dHJzKSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtYXhpbXVtIGVsZW1lbnQgb3IgKGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICAvLyBDYW4ndCBvcHRpbWl6ZSBhcnJheXMgb2YgaW50ZWdlcnMgbG9uZ2VyIHRoYW4gNjUsNTM1IGVsZW1lbnRzLlxuICAvLyBTZWUgW1dlYktpdCBCdWcgODA3OTddKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD04MDc5NylcbiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKCFpdGVyYXRvciAmJiBfLmlzQXJyYXkob2JqKSAmJiBvYmpbMF0gPT09ICtvYmpbMF0gJiYgb2JqLmxlbmd0aCA8IDY1NTM1KSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgb2JqKTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IC1JbmZpbml0eSwgbGFzdENvbXB1dGVkID0gLUluZmluaXR5O1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHZhciBjb21wdXRlZCA9IGl0ZXJhdG9yID8gaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpIDogdmFsdWU7XG4gICAgICBpZiAoY29tcHV0ZWQgPiBsYXN0Q29tcHV0ZWQpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtaW5pbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICBfLm1pbiA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBpZiAoIWl0ZXJhdG9yICYmIF8uaXNBcnJheShvYmopICYmIG9ialswXSA9PT0gK29ialswXSAmJiBvYmoubGVuZ3RoIDwgNjU1MzUpIHtcbiAgICAgIHJldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLCBvYmopO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IEluZmluaXR5O1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHZhciBjb21wdXRlZCA9IGl0ZXJhdG9yID8gaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpIDogdmFsdWU7XG4gICAgICBpZiAoY29tcHV0ZWQgPCBsYXN0Q29tcHV0ZWQpIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIGxhc3RDb21wdXRlZCA9IGNvbXB1dGVkO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhbiBhcnJheSwgdXNpbmcgdGhlIG1vZGVybiB2ZXJzaW9uIG9mIHRoZVxuICAvLyBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRmlzaGVy4oCTWWF0ZXNfc2h1ZmZsZSkuXG4gIF8uc2h1ZmZsZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciByYW5kO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIHNodWZmbGVkID0gW107XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByYW5kID0gXy5yYW5kb20oaW5kZXgrKyk7XG4gICAgICBzaHVmZmxlZFtpbmRleCAtIDFdID0gc2h1ZmZsZWRbcmFuZF07XG4gICAgICBzaHVmZmxlZFtyYW5kXSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBzaHVmZmxlZDtcbiAgfTtcblxuICAvLyBTYW1wbGUgKipuKiogcmFuZG9tIHZhbHVlcyBmcm9tIGEgY29sbGVjdGlvbi5cbiAgLy8gSWYgKipuKiogaXMgbm90IHNwZWNpZmllZCwgcmV0dXJucyBhIHNpbmdsZSByYW5kb20gZWxlbWVudC5cbiAgLy8gVGhlIGludGVybmFsIGBndWFyZGAgYXJndW1lbnQgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgbWFwYC5cbiAgXy5zYW1wbGUgPSBmdW5jdGlvbihvYmosIG4sIGd1YXJkKSB7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkge1xuICAgICAgaWYgKG9iai5sZW5ndGggIT09ICtvYmoubGVuZ3RoKSBvYmogPSBfLnZhbHVlcyhvYmopO1xuICAgICAgcmV0dXJuIG9ialtfLnJhbmRvbShvYmoubGVuZ3RoIC0gMSldO1xuICAgIH1cbiAgICByZXR1cm4gXy5zaHVmZmxlKG9iaikuc2xpY2UoMCwgTWF0aC5tYXgoMCwgbikpO1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGxvb2t1cCBpdGVyYXRvcnMuXG4gIHZhciBsb29rdXBJdGVyYXRvciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBfLmlkZW50aXR5O1xuICAgIGlmIChfLmlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm4gdmFsdWU7XG4gICAgcmV0dXJuIF8ucHJvcGVydHkodmFsdWUpO1xuICB9O1xuXG4gIC8vIFNvcnQgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiBwcm9kdWNlZCBieSBhbiBpdGVyYXRvci5cbiAgXy5zb3J0QnkgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0b3IgPSBsb29rdXBJdGVyYXRvcihpdGVyYXRvcik7XG4gICAgcmV0dXJuIF8ucGx1Y2soXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBjcml0ZXJpYTogaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRvciA9IGxvb2t1cEl0ZXJhdG9yKGl0ZXJhdG9yKTtcbiAgICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGtleSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBvYmopO1xuICAgICAgICBiZWhhdmlvcihyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuICAvLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbiAgXy5ncm91cEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCBrZXksIHZhbHVlKSB7XG4gICAgXy5oYXMocmVzdWx0LCBrZXkpID8gcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSkgOiByZXN1bHRba2V5XSA9IFt2YWx1ZV07XG4gIH0pO1xuXG4gIC8vIEluZGV4ZXMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiwgc2ltaWxhciB0byBgZ3JvdXBCeWAsIGJ1dCBmb3JcbiAgLy8gd2hlbiB5b3Uga25vdyB0aGF0IHlvdXIgaW5kZXggdmFsdWVzIHdpbGwgYmUgdW5pcXVlLlxuICBfLmluZGV4QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIGtleSwgdmFsdWUpIHtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICAvLyBDb3VudHMgaW5zdGFuY2VzIG9mIGFuIG9iamVjdCB0aGF0IGdyb3VwIGJ5IGEgY2VydGFpbiBjcml0ZXJpb24uIFBhc3NcbiAgLy8gZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZSB0byBjb3VudCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gIC8vIGNyaXRlcmlvbi5cbiAgXy5jb3VudEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCBrZXkpIHtcbiAgICBfLmhhcyhyZXN1bHQsIGtleSkgPyByZXN1bHRba2V5XSsrIDogcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICAvLyBVc2UgYSBjb21wYXJhdG9yIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgdGhlIHNtYWxsZXN0IGluZGV4IGF0IHdoaWNoXG4gIC8vIGFuIG9iamVjdCBzaG91bGQgYmUgaW5zZXJ0ZWQgc28gYXMgdG8gbWFpbnRhaW4gb3JkZXIuIFVzZXMgYmluYXJ5IHNlYXJjaC5cbiAgXy5zb3J0ZWRJbmRleCA9IGZ1bmN0aW9uKGFycmF5LCBvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0b3IgPSBsb29rdXBJdGVyYXRvcihpdGVyYXRvcik7XG4gICAgdmFyIHZhbHVlID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmopO1xuICAgIHZhciBsb3cgPSAwLCBoaWdoID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxO1xuICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBhcnJheVttaWRdKSA8IHZhbHVlID8gbG93ID0gbWlkICsgMSA6IGhpZ2ggPSBtaWQ7XG4gICAgfVxuICAgIHJldHVybiBsb3c7XG4gIH07XG5cbiAgLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbiAgXy50b0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFvYmopIHJldHVybiBbXTtcbiAgICBpZiAoXy5pc0FycmF5KG9iaikpIHJldHVybiBzbGljZS5jYWxsKG9iaik7XG4gICAgaWYgKG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoKSByZXR1cm4gXy5tYXAob2JqLCBfLmlkZW50aXR5KTtcbiAgICByZXR1cm4gXy52YWx1ZXMob2JqKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbiBvYmplY3QuXG4gIF8uc2l6ZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIDA7XG4gICAgcmV0dXJuIChvYmoubGVuZ3RoID09PSArb2JqLmxlbmd0aCkgPyBvYmoubGVuZ3RoIDogXy5rZXlzKG9iaikubGVuZ3RoO1xuICB9O1xuXG4gIC8vIEFycmF5IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS1cblxuICAvLyBHZXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gdGhlIGZpcnN0IE5cbiAgLy8gdmFsdWVzIGluIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgaGVhZGAgYW5kIGB0YWtlYC4gVGhlICoqZ3VhcmQqKiBjaGVja1xuICAvLyBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBfLm1hcGAuXG4gIF8uZmlyc3QgPSBfLmhlYWQgPSBfLnRha2UgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIHZvaWQgMDtcbiAgICBpZiAoKG4gPT0gbnVsbCkgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgICBpZiAobiA8IDApIHJldHVybiBbXTtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgMCwgbik7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgbGFzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEVzcGVjaWFsbHkgdXNlZnVsIG9uXG4gIC8vIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIGFsbCB0aGUgdmFsdWVzIGluXG4gIC8vIHRoZSBhcnJheSwgZXhjbHVkaW5nIHRoZSBsYXN0IE4uIFRoZSAqKmd1YXJkKiogY2hlY2sgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aFxuICAvLyBgXy5tYXBgLlxuICBfLmluaXRpYWwgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgMCwgYXJyYXkubGVuZ3RoIC0gKChuID09IG51bGwpIHx8IGd1YXJkID8gMSA6IG4pKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIFRoZSAqKmd1YXJkKiogY2hlY2sgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmxhc3QgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIHZvaWQgMDtcbiAgICBpZiAoKG4gPT0gbnVsbCkgfHwgZ3VhcmQpIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgTWF0aC5tYXgoYXJyYXkubGVuZ3RoIC0gbiwgMCkpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGZpcnN0IGVudHJ5IG9mIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgdGFpbGAgYW5kIGBkcm9wYC5cbiAgLy8gRXNwZWNpYWxseSB1c2VmdWwgb24gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgYW4gKipuKiogd2lsbCByZXR1cm5cbiAgLy8gdGhlIHJlc3QgTiB2YWx1ZXMgaW4gdGhlIGFycmF5LiBUaGUgKipndWFyZCoqXG4gIC8vIGNoZWNrIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5yZXN0ID0gXy50YWlsID0gXy5kcm9wID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIChuID09IG51bGwpIHx8IGd1YXJkID8gMSA6IG4pO1xuICB9O1xuXG4gIC8vIFRyaW0gb3V0IGFsbCBmYWxzeSB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbiAgXy5jb21wYWN0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIF8uaWRlbnRpdHkpO1xuICB9O1xuXG4gIC8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIGEgcmVjdXJzaXZlIGBmbGF0dGVuYCBmdW5jdGlvbi5cbiAgdmFyIGZsYXR0ZW4gPSBmdW5jdGlvbihpbnB1dCwgc2hhbGxvdywgb3V0cHV0KSB7XG4gICAgaWYgKHNoYWxsb3cgJiYgXy5ldmVyeShpbnB1dCwgXy5pc0FycmF5KSkge1xuICAgICAgcmV0dXJuIGNvbmNhdC5hcHBseShvdXRwdXQsIGlucHV0KTtcbiAgICB9XG4gICAgZWFjaChpbnB1dCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGlmIChfLmlzQXJyYXkodmFsdWUpIHx8IF8uaXNBcmd1bWVudHModmFsdWUpKSB7XG4gICAgICAgIHNoYWxsb3cgPyBwdXNoLmFwcGx5KG91dHB1dCwgdmFsdWUpIDogZmxhdHRlbih2YWx1ZSwgc2hhbGxvdywgb3V0cHV0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dHB1dC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIC8vIEZsYXR0ZW4gb3V0IGFuIGFycmF5LCBlaXRoZXIgcmVjdXJzaXZlbHkgKGJ5IGRlZmF1bHQpLCBvciBqdXN0IG9uZSBsZXZlbC5cbiAgXy5mbGF0dGVuID0gZnVuY3Rpb24oYXJyYXksIHNoYWxsb3cpIHtcbiAgICByZXR1cm4gZmxhdHRlbihhcnJheSwgc2hhbGxvdywgW10pO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHZlcnNpb24gb2YgdGhlIGFycmF5IHRoYXQgZG9lcyBub3QgY29udGFpbiB0aGUgc3BlY2lmaWVkIHZhbHVlKHMpLlxuICBfLndpdGhvdXQgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmRpZmZlcmVuY2UoYXJyYXksIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gIH07XG5cbiAgLy8gU3BsaXQgYW4gYXJyYXkgaW50byB0d28gYXJyYXlzOiBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIHNhdGlzZnkgdGhlIGdpdmVuXG4gIC8vIHByZWRpY2F0ZSwgYW5kIG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgZG8gbm90IHNhdGlzZnkgdGhlIHByZWRpY2F0ZS5cbiAgXy5wYXJ0aXRpb24gPSBmdW5jdGlvbihhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIHBhc3MgPSBbXSwgZmFpbCA9IFtdO1xuICAgIGVhY2goYXJyYXksIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgIChwcmVkaWNhdGUoZWxlbSkgPyBwYXNzIDogZmFpbCkucHVzaChlbGVtKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW3Bhc3MsIGZhaWxdO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIHRoZSBhcnJheS4gSWYgdGhlIGFycmF5IGhhcyBhbHJlYWR5XG4gIC8vIGJlZW4gc29ydGVkLCB5b3UgaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIGEgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRvcjtcbiAgICAgIGl0ZXJhdG9yID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB2YXIgaW5pdGlhbCA9IGl0ZXJhdG9yID8gXy5tYXAoYXJyYXksIGl0ZXJhdG9yLCBjb250ZXh0KSA6IGFycmF5O1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICBlYWNoKGluaXRpYWwsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgaWYgKGlzU29ydGVkID8gKCFpbmRleCB8fCBzZWVuW3NlZW4ubGVuZ3RoIC0gMV0gIT09IHZhbHVlKSA6ICFfLmNvbnRhaW5zKHNlZW4sIHZhbHVlKSkge1xuICAgICAgICBzZWVuLnB1c2godmFsdWUpO1xuICAgICAgICByZXN1bHRzLnB1c2goYXJyYXlbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2ZcbiAgLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8udW5pb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXy51bmlxKF8uZmxhdHRlbihhcmd1bWVudHMsIHRydWUpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgZXZlcnkgaXRlbSBzaGFyZWQgYmV0d2VlbiBhbGwgdGhlXG4gIC8vIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8uaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdCA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gXy5maWx0ZXIoXy51bmlxKGFycmF5KSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIF8uZXZlcnkocmVzdCwgZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIF8uY29udGFpbnMob3RoZXIsIGl0ZW0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gVGFrZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIG9uZSBhcnJheSBhbmQgYSBudW1iZXIgb2Ygb3RoZXIgYXJyYXlzLlxuICAvLyBPbmx5IHRoZSBlbGVtZW50cyBwcmVzZW50IGluIGp1c3QgdGhlIGZpcnN0IGFycmF5IHdpbGwgcmVtYWluLlxuICBfLmRpZmZlcmVuY2UgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciByZXN0ID0gY29uY2F0LmFwcGx5KEFycmF5UHJvdG8sIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBmdW5jdGlvbih2YWx1ZSl7IHJldHVybiAhXy5jb250YWlucyhyZXN0LCB2YWx1ZSk7IH0pO1xuICB9O1xuXG4gIC8vIFppcCB0b2dldGhlciBtdWx0aXBsZSBsaXN0cyBpbnRvIGEgc2luZ2xlIGFycmF5IC0tIGVsZW1lbnRzIHRoYXQgc2hhcmVcbiAgLy8gYW4gaW5kZXggZ28gdG9nZXRoZXIuXG4gIF8uemlwID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxlbmd0aCA9IF8ubWF4KF8ucGx1Y2soYXJndW1lbnRzLCAnbGVuZ3RoJykuY29uY2F0KDApKTtcbiAgICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc3VsdHNbaV0gPSBfLnBsdWNrKGFyZ3VtZW50cywgJycgKyBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ29udmVydHMgbGlzdHMgaW50byBvYmplY3RzLiBQYXNzIGVpdGhlciBhIHNpbmdsZSBhcnJheSBvZiBgW2tleSwgdmFsdWVdYFxuICAvLyBwYWlycywgb3IgdHdvIHBhcmFsbGVsIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGggLS0gb25lIG9mIGtleXMsIGFuZCBvbmUgb2ZcbiAgLy8gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICBfLm9iamVjdCA9IGZ1bmN0aW9uKGxpc3QsIHZhbHVlcykge1xuICAgIGlmIChsaXN0ID09IG51bGwpIHJldHVybiB7fTtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBJZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBseSB1cyB3aXRoIGluZGV4T2YgKEknbSBsb29raW5nIGF0IHlvdSwgKipNU0lFKiopLFxuICAvLyB3ZSBuZWVkIHRoaXMgZnVuY3Rpb24uIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW5cbiAgLy8gaXRlbSBpbiBhbiBhcnJheSwgb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGluZGV4T2ZgIGlmIGF2YWlsYWJsZS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpc1NvcnRlZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gLTE7XG4gICAgdmFyIGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGlzU29ydGVkKSB7XG4gICAgICBpZiAodHlwZW9mIGlzU29ydGVkID09ICdudW1iZXInKSB7XG4gICAgICAgIGkgPSAoaXNTb3J0ZWQgPCAwID8gTWF0aC5tYXgoMCwgbGVuZ3RoICsgaXNTb3J0ZWQpIDogaXNTb3J0ZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSA9IF8uc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaV0gPT09IGl0ZW0gPyBpIDogLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYXRpdmVJbmRleE9mICYmIGFycmF5LmluZGV4T2YgPT09IG5hdGl2ZUluZGV4T2YpIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0sIGlzU29ydGVkKTtcbiAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHJldHVybiBpO1xuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgbGFzdEluZGV4T2ZgIGlmIGF2YWlsYWJsZS5cbiAgXy5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBmcm9tKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiAtMTtcbiAgICB2YXIgaGFzSW5kZXggPSBmcm9tICE9IG51bGw7XG4gICAgaWYgKG5hdGl2ZUxhc3RJbmRleE9mICYmIGFycmF5Lmxhc3RJbmRleE9mID09PSBuYXRpdmVMYXN0SW5kZXhPZikge1xuICAgICAgcmV0dXJuIGhhc0luZGV4ID8gYXJyYXkubGFzdEluZGV4T2YoaXRlbSwgZnJvbSkgOiBhcnJheS5sYXN0SW5kZXhPZihpdGVtKTtcbiAgICB9XG4gICAgdmFyIGkgPSAoaGFzSW5kZXggPyBmcm9tIDogYXJyYXkubGVuZ3RoKTtcbiAgICB3aGlsZSAoaS0tKSBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHJldHVybiBpO1xuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICAvLyBHZW5lcmF0ZSBhbiBpbnRlZ2VyIEFycmF5IGNvbnRhaW5pbmcgYW4gYXJpdGhtZXRpYyBwcm9ncmVzc2lvbi4gQSBwb3J0IG9mXG4gIC8vIHRoZSBuYXRpdmUgUHl0aG9uIGByYW5nZSgpYCBmdW5jdGlvbi4gU2VlXG4gIC8vIFt0aGUgUHl0aG9uIGRvY3VtZW50YXRpb25dKGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS9mdW5jdGlvbnMuaHRtbCNyYW5nZSkuXG4gIF8ucmFuZ2UgPSBmdW5jdGlvbihzdGFydCwgc3RvcCwgc3RlcCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHN0b3AgPSBzdGFydCB8fCAwO1xuICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICBzdGVwID0gYXJndW1lbnRzWzJdIHx8IDE7XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciBpZHggPSAwO1xuICAgIHZhciByYW5nZSA9IG5ldyBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUoaWR4IDwgbGVuZ3RoKSB7XG4gICAgICByYW5nZVtpZHgrK10gPSBzdGFydDtcbiAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUmV1c2FibGUgY29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIHByb3RvdHlwZSBzZXR0aW5nLlxuICB2YXIgY3RvciA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGUgYSBmdW5jdGlvbiBib3VuZCB0byBhIGdpdmVuIG9iamVjdCAoYXNzaWduaW5nIGB0aGlzYCwgYW5kIGFyZ3VtZW50cyxcbiAgLy8gb3B0aW9uYWxseSkuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBGdW5jdGlvbi5iaW5kYCBpZlxuICAvLyBhdmFpbGFibGUuXG4gIF8uYmluZCA9IGZ1bmN0aW9uKGZ1bmMsIGNvbnRleHQpIHtcbiAgICB2YXIgYXJncywgYm91bmQ7XG4gICAgaWYgKG5hdGl2ZUJpbmQgJiYgZnVuYy5iaW5kID09PSBuYXRpdmVCaW5kKSByZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIGlmICghXy5pc0Z1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIGJvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgYm91bmQpKSByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICAgIGN0b3IucHJvdG90eXBlID0gZnVuYy5wcm90b3R5cGU7XG4gICAgICB2YXIgc2VsZiA9IG5ldyBjdG9yO1xuICAgICAgY3Rvci5wcm90b3R5cGUgPSBudWxsO1xuICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkoc2VsZiwgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUGFydGlhbGx5IGFwcGx5IGEgZnVuY3Rpb24gYnkgY3JlYXRpbmcgYSB2ZXJzaW9uIHRoYXQgaGFzIGhhZCBzb21lIG9mIGl0c1xuICAvLyBhcmd1bWVudHMgcHJlLWZpbGxlZCwgd2l0aG91dCBjaGFuZ2luZyBpdHMgZHluYW1pYyBgdGhpc2AgY29udGV4dC4gXyBhY3RzXG4gIC8vIGFzIGEgcGxhY2Vob2xkZXIsIGFsbG93aW5nIGFueSBjb21iaW5hdGlvbiBvZiBhcmd1bWVudHMgdG8gYmUgcHJlLWZpbGxlZC5cbiAgXy5wYXJ0aWFsID0gZnVuY3Rpb24oZnVuYykge1xuICAgIHZhciBib3VuZEFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBvc2l0aW9uID0gMDtcbiAgICAgIHZhciBhcmdzID0gYm91bmRBcmdzLnNsaWNlKCk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gYXJncy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXJnc1tpXSA9PT0gXykgYXJnc1tpXSA9IGFyZ3VtZW50c1twb3NpdGlvbisrXTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChwb3NpdGlvbiA8IGFyZ3VtZW50cy5sZW5ndGgpIGFyZ3MucHVzaChhcmd1bWVudHNbcG9zaXRpb24rK10pO1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBCaW5kIGEgbnVtYmVyIG9mIGFuIG9iamVjdCdzIG1ldGhvZHMgdG8gdGhhdCBvYmplY3QuIFJlbWFpbmluZyBhcmd1bWVudHNcbiAgLy8gYXJlIHRoZSBtZXRob2QgbmFtZXMgdG8gYmUgYm91bmQuIFVzZWZ1bCBmb3IgZW5zdXJpbmcgdGhhdCBhbGwgY2FsbGJhY2tzXG4gIC8vIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC5cbiAgXy5iaW5kQWxsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGZ1bmNzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGlmIChmdW5jcy5sZW5ndGggPT09IDApIHRocm93IG5ldyBFcnJvcignYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcycpO1xuICAgIGVhY2goZnVuY3MsIGZ1bmN0aW9uKGYpIHsgb2JqW2ZdID0gXy5iaW5kKG9ialtmXSwgb2JqKTsgfSk7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBNZW1vaXplIGFuIGV4cGVuc2l2ZSBmdW5jdGlvbiBieSBzdG9yaW5nIGl0cyByZXN1bHRzLlxuICBfLm1lbW9pemUgPSBmdW5jdGlvbihmdW5jLCBoYXNoZXIpIHtcbiAgICB2YXIgbWVtbyA9IHt9O1xuICAgIGhhc2hlciB8fCAoaGFzaGVyID0gXy5pZGVudGl0eSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGtleSA9IGhhc2hlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIF8uaGFzKG1lbW8sIGtleSkgPyBtZW1vW2tleV0gOiAobWVtb1trZXldID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbiAgLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuICBfLmRlbGF5ID0gZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IHJldHVybiBmdW5jLmFwcGx5KG51bGwsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgfTtcblxuICAvLyBEZWZlcnMgYSBmdW5jdGlvbiwgc2NoZWR1bGluZyBpdCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXNcbiAgLy8gY2xlYXJlZC5cbiAgXy5kZWZlciA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICByZXR1cm4gXy5kZWxheS5hcHBseShfLCBbZnVuYywgMV0uY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSkpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZVxuICAvLyBkdXJpbmcgYSBnaXZlbiB3aW5kb3cgb2YgdGltZS4gTm9ybWFsbHksIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbCBydW5cbiAgLy8gYXMgbXVjaCBhcyBpdCBjYW4sIHdpdGhvdXQgZXZlciBnb2luZyBtb3JlIHRoYW4gb25jZSBwZXIgYHdhaXRgIGR1cmF0aW9uO1xuICAvLyBidXQgaWYgeW91J2QgbGlrZSB0byBkaXNhYmxlIHRoZSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSwgcGFzc1xuICAvLyBge2xlYWRpbmc6IGZhbHNlfWAuIFRvIGRpc2FibGUgZXhlY3V0aW9uIG9uIHRoZSB0cmFpbGluZyBlZGdlLCBkaXR0by5cbiAgXy50aHJvdHRsZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgY29udGV4dCwgYXJncywgcmVzdWx0O1xuICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogXy5ub3coKTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub3cgPSBfLm5vdygpO1xuICAgICAgaWYgKCFwcmV2aW91cyAmJiBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlKSBwcmV2aW91cyA9IG5vdztcbiAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4gIC8vIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3JcbiAgLy8gTiBtaWxsaXNlY29uZHMuIElmIGBpbW1lZGlhdGVgIGlzIHBhc3NlZCwgdHJpZ2dlciB0aGUgZnVuY3Rpb24gb24gdGhlXG4gIC8vIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG4gIF8uZGVib3VuY2UgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHtcbiAgICB2YXIgdGltZW91dCwgYXJncywgY29udGV4dCwgdGltZXN0YW1wLCByZXN1bHQ7XG5cbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsYXN0ID0gXy5ub3coKSAtIHRpbWVzdGFtcDtcbiAgICAgIGlmIChsYXN0IDwgd2FpdCkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCAtIGxhc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgdGltZXN0YW1wID0gXy5ub3coKTtcbiAgICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgICAgaWYgKCF0aW1lb3V0KSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgIH1cbiAgICAgIGlmIChjYWxsTm93KSB7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgYXQgbW9zdCBvbmUgdGltZSwgbm8gbWF0dGVyIGhvd1xuICAvLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLlxuICBfLm9uY2UgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgdmFyIHJhbiA9IGZhbHNlLCBtZW1vO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChyYW4pIHJldHVybiBtZW1vO1xuICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgIG1lbW8gPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBmdW5jID0gbnVsbDtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgZnVuY3Rpb24gcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBzZWNvbmQsXG4gIC8vIGFsbG93aW5nIHlvdSB0byBhZGp1c3QgYXJndW1lbnRzLCBydW4gY29kZSBiZWZvcmUgYW5kIGFmdGVyLCBhbmRcbiAgLy8gY29uZGl0aW9uYWxseSBleGVjdXRlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbiAgXy53cmFwID0gZnVuY3Rpb24oZnVuYywgd3JhcHBlcikge1xuICAgIHJldHVybiBfLnBhcnRpYWwod3JhcHBlciwgZnVuYyk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbiAgLy8gY29uc3VtaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy5cbiAgXy5jb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZ1bmNzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgZm9yICh2YXIgaSA9IGZ1bmNzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGFyZ3MgPSBbZnVuY3NbaV0uYXBwbHkodGhpcywgYXJncyldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgYWZ0ZXIgYmVpbmcgY2FsbGVkIE4gdGltZXMuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gT2JqZWN0IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUmV0cmlldmUgdGhlIG5hbWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2BcbiAgXy5rZXlzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBbXTtcbiAgICBpZiAobmF0aXZlS2V5cykgcmV0dXJuIG5hdGl2ZUtleXMob2JqKTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIGtleXMucHVzaChrZXkpO1xuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgXy52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzW2ldID0gb2JqW2tleXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIENvbnZlcnQgYW4gb2JqZWN0IGludG8gYSBsaXN0IG9mIGBba2V5LCB2YWx1ZV1gIHBhaXJzLlxuICBfLnBhaXJzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHBhaXJzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcGFpcnNbaV0gPSBba2V5c1tpXSwgb2JqW2tleXNbaV1dXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W29ialtrZXlzW2ldXV0gPSBrZXlzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2BcbiAgXy5mdW5jdGlvbnMgPSBfLm1ldGhvZHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbmFtZXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXMuc29ydCgpO1xuICB9O1xuXG4gIC8vIEV4dGVuZCBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBpbiBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICBfLmV4dGVuZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGVhY2goc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ucGljayA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBjb3B5ID0ge307XG4gICAgdmFyIGtleXMgPSBjb25jYXQuYXBwbHkoQXJyYXlQcm90bywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICBlYWNoKGtleXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgaWYgKGtleSBpbiBvYmopIGNvcHlba2V5XSA9IG9ialtrZXldO1xuICAgIH0pO1xuICAgIHJldHVybiBjb3B5O1xuICB9O1xuXG4gICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aG91dCB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5vbWl0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGNvcHkgPSB7fTtcbiAgICB2YXIga2V5cyA9IGNvbmNhdC5hcHBseShBcnJheVByb3RvLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmICghXy5jb250YWlucyhrZXlzLCBrZXkpKSBjb3B5W2tleV0gPSBvYmpba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNvcHk7XG4gIH07XG5cbiAgLy8gRmlsbCBpbiBhIGdpdmVuIG9iamVjdCB3aXRoIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgXy5kZWZhdWx0cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGVhY2goc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAob2JqW3Byb3BdID09PSB2b2lkIDApIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuICBfLmNsb25lID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIF8uaXNBcnJheShvYmopID8gb2JqLnNsaWNlKCkgOiBfLmV4dGVuZCh7fSwgb2JqKTtcbiAgfTtcblxuICAvLyBJbnZva2VzIGludGVyY2VwdG9yIHdpdGggdGhlIG9iaiwgYW5kIHRoZW4gcmV0dXJucyBvYmouXG4gIC8vIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluLCBpblxuICAvLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi5cbiAgXy50YXAgPSBmdW5jdGlvbihvYmosIGludGVyY2VwdG9yKSB7XG4gICAgaW50ZXJjZXB0b3Iob2JqKTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIHZhciBlcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gSWRlbnRpY2FsIG9iamVjdHMgYXJlIGVxdWFsLiBgMCA9PT0gLTBgLCBidXQgdGhleSBhcmVuJ3QgaWRlbnRpY2FsLlxuICAgIC8vIFNlZSB0aGUgW0hhcm1vbnkgYGVnYWxgIHByb3Bvc2FsXShodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwpLlxuICAgIGlmIChhID09PSBiKSByZXR1cm4gYSAhPT0gMCB8fCAxIC8gYSA9PSAxIC8gYjtcbiAgICAvLyBBIHN0cmljdCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIGBudWxsID09IHVuZGVmaW5lZGAuXG4gICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBhID09PSBiO1xuICAgIC8vIFVud3JhcCBhbnkgd3JhcHBlZCBvYmplY3RzLlxuICAgIGlmIChhIGluc3RhbmNlb2YgXykgYSA9IGEuX3dyYXBwZWQ7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBfKSBiID0gYi5fd3JhcHBlZDtcbiAgICAvLyBDb21wYXJlIGBbW0NsYXNzXV1gIG5hbWVzLlxuICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpO1xuICAgIGlmIChjbGFzc05hbWUgIT0gdG9TdHJpbmcuY2FsbChiKSkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAvLyBTdHJpbmdzLCBudW1iZXJzLCBkYXRlcywgYW5kIGJvb2xlYW5zIGFyZSBjb21wYXJlZCBieSB2YWx1ZS5cbiAgICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICAgIC8vIFByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHdyYXBwZXJzIGFyZSBlcXVpdmFsZW50OyB0aHVzLCBgXCI1XCJgIGlzXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gYG5ldyBTdHJpbmcoXCI1XCIpYC5cbiAgICAgICAgcmV0dXJuIGEgPT0gU3RyaW5nKGIpO1xuICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcbiAgICAgICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS4gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvclxuICAgICAgICAvLyBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgcmV0dXJuIGEgIT0gK2EgPyBiICE9ICtiIDogKGEgPT0gMCA/IDEgLyBhID09IDEgLyBiIDogYSA9PSArYik7XG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgICAvLyBDb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWVyaWMgcHJpbWl0aXZlIHZhbHVlcy4gRGF0ZXMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyXG4gICAgICAgIC8vIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9ucy4gTm90ZSB0aGF0IGludmFsaWQgZGF0ZXMgd2l0aCBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnNcbiAgICAgICAgLy8gb2YgYE5hTmAgYXJlIG5vdCBlcXVpdmFsZW50LlxuICAgICAgICByZXR1cm4gK2EgPT0gK2I7XG4gICAgICAvLyBSZWdFeHBzIGFyZSBjb21wYXJlZCBieSB0aGVpciBzb3VyY2UgcGF0dGVybnMgYW5kIGZsYWdzLlxuICAgICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAgICAgcmV0dXJuIGEuc291cmNlID09IGIuc291cmNlICYmXG4gICAgICAgICAgICAgICBhLmdsb2JhbCA9PSBiLmdsb2JhbCAmJlxuICAgICAgICAgICAgICAgYS5tdWx0aWxpbmUgPT0gYi5tdWx0aWxpbmUgJiZcbiAgICAgICAgICAgICAgIGEuaWdub3JlQ2FzZSA9PSBiLmlnbm9yZUNhc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYSAhPSAnb2JqZWN0JyB8fCB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICAgIC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgICAgLy8gdW5pcXVlIG5lc3RlZCBzdHJ1Y3R1cmVzLlxuICAgICAgaWYgKGFTdGFja1tsZW5ndGhdID09IGEpIHJldHVybiBiU3RhY2tbbGVuZ3RoXSA9PSBiO1xuICAgIH1cbiAgICAvLyBPYmplY3RzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWl2YWxlbnQsIGJ1dCBgT2JqZWN0YHNcbiAgICAvLyBmcm9tIGRpZmZlcmVudCBmcmFtZXMgYXJlLlxuICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmICEoXy5pc0Z1bmN0aW9uKGFDdG9yKSAmJiAoYUN0b3IgaW5zdGFuY2VvZiBhQ3RvcikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5pc0Z1bmN0aW9uKGJDdG9yKSAmJiAoYkN0b3IgaW5zdGFuY2VvZiBiQ3RvcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAoJ2NvbnN0cnVjdG9yJyBpbiBhICYmICdjb25zdHJ1Y3RvcicgaW4gYikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gQWRkIHRoZSBmaXJzdCBvYmplY3QgdG8gdGhlIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIGFTdGFjay5wdXNoKGEpO1xuICAgIGJTdGFjay5wdXNoKGIpO1xuICAgIHZhciBzaXplID0gMCwgcmVzdWx0ID0gdHJ1ZTtcbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgYW5kIGFycmF5cy5cbiAgICBpZiAoY2xhc3NOYW1lID09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIC8vIENvbXBhcmUgYXJyYXkgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5LlxuICAgICAgc2l6ZSA9IGEubGVuZ3RoO1xuICAgICAgcmVzdWx0ID0gc2l6ZSA9PSBiLmxlbmd0aDtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgLy8gRGVlcCBjb21wYXJlIHRoZSBjb250ZW50cywgaWdub3Jpbmcgbm9uLW51bWVyaWMgcHJvcGVydGllcy5cbiAgICAgICAgd2hpbGUgKHNpemUtLSkge1xuICAgICAgICAgIGlmICghKHJlc3VsdCA9IGVxKGFbc2l6ZV0sIGJbc2l6ZV0sIGFTdGFjaywgYlN0YWNrKSkpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERlZXAgY29tcGFyZSBvYmplY3RzLlxuICAgICAgZm9yICh2YXIga2V5IGluIGEpIHtcbiAgICAgICAgaWYgKF8uaGFzKGEsIGtleSkpIHtcbiAgICAgICAgICAvLyBDb3VudCB0aGUgZXhwZWN0ZWQgbnVtYmVyIG9mIHByb3BlcnRpZXMuXG4gICAgICAgICAgc2l6ZSsrO1xuICAgICAgICAgIC8vIERlZXAgY29tcGFyZSBlYWNoIG1lbWJlci5cbiAgICAgICAgICBpZiAoIShyZXN1bHQgPSBfLmhhcyhiLCBrZXkpICYmIGVxKGFba2V5XSwgYltrZXldLCBhU3RhY2ssIGJTdGFjaykpKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gRW5zdXJlIHRoYXQgYm90aCBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUgbnVtYmVyIG9mIHByb3BlcnRpZXMuXG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIGZvciAoa2V5IGluIGIpIHtcbiAgICAgICAgICBpZiAoXy5oYXMoYiwga2V5KSAmJiAhKHNpemUtLSkpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9ICFzaXplO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUGVyZm9ybSBhIGRlZXAgY29tcGFyaXNvbiB0byBjaGVjayBpZiB0d28gb2JqZWN0cyBhcmUgZXF1YWwuXG4gIF8uaXNFcXVhbCA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gZXEoYSwgYiwgW10sIFtdKTtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIGFycmF5LCBzdHJpbmcsIG9yIG9iamVjdCBlbXB0eT9cbiAgLy8gQW4gXCJlbXB0eVwiIG9iamVjdCBoYXMgbm8gZW51bWVyYWJsZSBvd24tcHJvcGVydGllcy5cbiAgXy5pc0VtcHR5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoXy5pc0FycmF5KG9iaikgfHwgXy5pc1N0cmluZyhvYmopKSByZXR1cm4gb2JqLmxlbmd0aCA9PT0gMDtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoXy5oYXMob2JqLCBrZXkpKSByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIERPTSBlbGVtZW50P1xuICBfLmlzRWxlbWVudCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiAhIShvYmogJiYgb2JqLm5vZGVUeXBlID09PSAxKTtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGFuIGFycmF5P1xuICAvLyBEZWxlZ2F0ZXMgdG8gRUNNQTUncyBuYXRpdmUgQXJyYXkuaXNBcnJheVxuICBfLmlzQXJyYXkgPSBuYXRpdmVJc0FycmF5IHx8IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbiAgXy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IE9iamVjdChvYmopO1xuICB9O1xuXG4gIC8vIEFkZCBzb21lIGlzVHlwZSBtZXRob2RzOiBpc0FyZ3VtZW50cywgaXNGdW5jdGlvbiwgaXNTdHJpbmcsIGlzTnVtYmVyLCBpc0RhdGUsIGlzUmVnRXhwLlxuICBlYWNoKFsnQXJndW1lbnRzJywgJ0Z1bmN0aW9uJywgJ1N0cmluZycsICdOdW1iZXInLCAnRGF0ZScsICdSZWdFeHAnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIF9bJ2lzJyArIG5hbWVdID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09ICdbb2JqZWN0ICcgKyBuYW1lICsgJ10nO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIERlZmluZSBhIGZhbGxiYWNrIHZlcnNpb24gb2YgdGhlIG1ldGhvZCBpbiBicm93c2VycyAoYWhlbSwgSUUpLCB3aGVyZVxuICAvLyB0aGVyZSBpc24ndCBhbnkgaW5zcGVjdGFibGUgXCJBcmd1bWVudHNcIiB0eXBlLlxuICBpZiAoIV8uaXNBcmd1bWVudHMoYXJndW1lbnRzKSkge1xuICAgIF8uaXNBcmd1bWVudHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiAhIShvYmogJiYgXy5oYXMob2JqLCAnY2FsbGVlJykpO1xuICAgIH07XG4gIH1cblxuICAvLyBPcHRpbWl6ZSBgaXNGdW5jdGlvbmAgaWYgYXBwcm9wcmlhdGUuXG4gIGlmICh0eXBlb2YgKC8uLykgIT09ICdmdW5jdGlvbicpIHtcbiAgICBfLmlzRnVuY3Rpb24gPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nO1xuICAgIH07XG4gIH1cblxuICAvLyBJcyBhIGdpdmVuIG9iamVjdCBhIGZpbml0ZSBudW1iZXI/XG4gIF8uaXNGaW5pdGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/IChOYU4gaXMgdGhlIG9ubHkgbnVtYmVyIHdoaWNoIGRvZXMgbm90IGVxdWFsIGl0c2VsZikuXG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIG9iaiAhPSArb2JqO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBib29sZWFuP1xuICBfLmlzQm9vbGVhbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHRydWUgfHwgb2JqID09PSBmYWxzZSB8fCB0b1N0cmluZy5jYWxsKG9iaikgPT0gJ1tvYmplY3QgQm9vbGVhbl0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgZXF1YWwgdG8gbnVsbD9cbiAgXy5pc051bGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBudWxsO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgdW5kZWZpbmVkP1xuICBfLmlzVW5kZWZpbmVkID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdm9pZCAwO1xuICB9O1xuXG4gIC8vIFNob3J0Y3V0IGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gcHJvcGVydHkgZGlyZWN0bHlcbiAgLy8gb24gaXRzZWxmIChpbiBvdGhlciB3b3Jkcywgbm90IG9uIGEgcHJvdG90eXBlKS5cbiAgXy5oYXMgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbiAgfTtcblxuICAvLyBVdGlsaXR5IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFJ1biBVbmRlcnNjb3JlLmpzIGluICpub0NvbmZsaWN0KiBtb2RlLCByZXR1cm5pbmcgdGhlIGBfYCB2YXJpYWJsZSB0byBpdHNcbiAgLy8gcHJldmlvdXMgb3duZXIuIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICByb290Ll8gPSBwcmV2aW91c1VuZGVyc2NvcmU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gS2VlcCB0aGUgaWRlbnRpdHkgZnVuY3Rpb24gYXJvdW5kIGZvciBkZWZhdWx0IGl0ZXJhdG9ycy5cbiAgXy5pZGVudGl0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIF8uY29uc3RhbnQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfTtcblxuICBfLnByb3BlcnR5ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIHByZWRpY2F0ZSBmb3IgY2hlY2tpbmcgd2hldGhlciBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gc2V0IG9mIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLm1hdGNoZXMgPSBmdW5jdGlvbihhdHRycykge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIGlmIChvYmogPT09IGF0dHJzKSByZXR1cm4gdHJ1ZTsgLy9hdm9pZCBjb21wYXJpbmcgYW4gb2JqZWN0IHRvIGl0c2VsZi5cbiAgICAgIGZvciAodmFyIGtleSBpbiBhdHRycykge1xuICAgICAgICBpZiAoYXR0cnNba2V5XSAhPT0gb2JqW2tleV0pXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJ1biBhIGZ1bmN0aW9uICoqbioqIHRpbWVzLlxuICBfLnRpbWVzID0gZnVuY3Rpb24obiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgYWNjdW0gPSBBcnJheShNYXRoLm1heCgwLCBuKSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCBpKTtcbiAgICByZXR1cm4gYWNjdW07XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gYW5kIG1heCAoaW5jbHVzaXZlKS5cbiAgXy5yYW5kb20gPSBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIGlmIChtYXggPT0gbnVsbCkge1xuICAgICAgbWF4ID0gbWluO1xuICAgICAgbWluID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIG1pbiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XG4gIH07XG5cbiAgLy8gQSAocG9zc2libHkgZmFzdGVyKSB3YXkgdG8gZ2V0IHRoZSBjdXJyZW50IHRpbWVzdGFtcCBhcyBhbiBpbnRlZ2VyLlxuICBfLm5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7IH07XG5cbiAgLy8gTGlzdCBvZiBIVE1MIGVudGl0aWVzIGZvciBlc2NhcGluZy5cbiAgdmFyIGVudGl0eU1hcCA9IHtcbiAgICBlc2NhcGU6IHtcbiAgICAgICcmJzogJyZhbXA7JyxcbiAgICAgICc8JzogJyZsdDsnLFxuICAgICAgJz4nOiAnJmd0OycsXG4gICAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAgIFwiJ1wiOiAnJiN4Mjc7J1xuICAgIH1cbiAgfTtcbiAgZW50aXR5TWFwLnVuZXNjYXBlID0gXy5pbnZlcnQoZW50aXR5TWFwLmVzY2FwZSk7XG5cbiAgLy8gUmVnZXhlcyBjb250YWluaW5nIHRoZSBrZXlzIGFuZCB2YWx1ZXMgbGlzdGVkIGltbWVkaWF0ZWx5IGFib3ZlLlxuICB2YXIgZW50aXR5UmVnZXhlcyA9IHtcbiAgICBlc2NhcGU6ICAgbmV3IFJlZ0V4cCgnWycgKyBfLmtleXMoZW50aXR5TWFwLmVzY2FwZSkuam9pbignJykgKyAnXScsICdnJyksXG4gICAgdW5lc2NhcGU6IG5ldyBSZWdFeHAoJygnICsgXy5rZXlzKGVudGl0eU1hcC51bmVzY2FwZSkuam9pbignfCcpICsgJyknLCAnZycpXG4gIH07XG5cbiAgLy8gRnVuY3Rpb25zIGZvciBlc2NhcGluZyBhbmQgdW5lc2NhcGluZyBzdHJpbmdzIHRvL2Zyb20gSFRNTCBpbnRlcnBvbGF0aW9uLlxuICBfLmVhY2goWydlc2NhcGUnLCAndW5lc2NhcGUnXSwgZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgX1ttZXRob2RdID0gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICBpZiAoc3RyaW5nID09IG51bGwpIHJldHVybiAnJztcbiAgICAgIHJldHVybiAoJycgKyBzdHJpbmcpLnJlcGxhY2UoZW50aXR5UmVnZXhlc1ttZXRob2RdLCBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgICByZXR1cm4gZW50aXR5TWFwW21ldGhvZF1bbWF0Y2hdO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gSWYgdGhlIHZhbHVlIG9mIHRoZSBuYW1lZCBgcHJvcGVydHlgIGlzIGEgZnVuY3Rpb24gdGhlbiBpbnZva2UgaXQgd2l0aCB0aGVcbiAgLy8gYG9iamVjdGAgYXMgY29udGV4dDsgb3RoZXJ3aXNlLCByZXR1cm4gaXQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkge1xuICAgIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuIHZvaWQgMDtcbiAgICB2YXIgdmFsdWUgPSBvYmplY3RbcHJvcGVydHldO1xuICAgIHJldHVybiBfLmlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gIH07XG5cbiAgLy8gQWRkIHlvdXIgb3duIGN1c3RvbSBmdW5jdGlvbnMgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLm1peGluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgZWFjaChfLmZ1bmN0aW9ucyhvYmopLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IF9bbmFtZV0gPSBvYmpbbmFtZV07XG4gICAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IFt0aGlzLl93cmFwcGVkXTtcbiAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmNhbGwodGhpcywgZnVuYy5hcHBseShfLCBhcmdzKSk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlIGEgdW5pcXVlIGludGVnZXIgaWQgKHVuaXF1ZSB3aXRoaW4gdGhlIGVudGlyZSBjbGllbnQgc2Vzc2lvbikuXG4gIC8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuICBfLnVuaXF1ZUlkID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDtcbiAgfTtcblxuICAvLyBCeSBkZWZhdWx0LCBVbmRlcnNjb3JlIHVzZXMgRVJCLXN0eWxlIHRlbXBsYXRlIGRlbGltaXRlcnMsIGNoYW5nZSB0aGVcbiAgLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgZXZhbHVhdGUgICAgOiAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgIGludGVycG9sYXRlIDogLzwlPShbXFxzXFxTXSs/KSU+L2csXG4gICAgZXNjYXBlICAgICAgOiAvPCUtKFtcXHNcXFNdKz8pJT4vZ1xuICB9O1xuXG4gIC8vIFdoZW4gY3VzdG9taXppbmcgYHRlbXBsYXRlU2V0dGluZ3NgLCBpZiB5b3UgZG9uJ3Qgd2FudCB0byBkZWZpbmUgYW5cbiAgLy8gaW50ZXJwb2xhdGlvbiwgZXZhbHVhdGlvbiBvciBlc2NhcGluZyByZWdleCwgd2UgbmVlZCBvbmUgdGhhdCBpc1xuICAvLyBndWFyYW50ZWVkIG5vdCB0byBtYXRjaC5cbiAgdmFyIG5vTWF0Y2ggPSAvKC4pXi87XG5cbiAgLy8gQ2VydGFpbiBjaGFyYWN0ZXJzIG5lZWQgdG8gYmUgZXNjYXBlZCBzbyB0aGF0IHRoZXkgY2FuIGJlIHB1dCBpbnRvIGFcbiAgLy8gc3RyaW5nIGxpdGVyYWwuXG4gIHZhciBlc2NhcGVzID0ge1xuICAgIFwiJ1wiOiAgICAgIFwiJ1wiLFxuICAgICdcXFxcJzogICAgICdcXFxcJyxcbiAgICAnXFxyJzogICAgICdyJyxcbiAgICAnXFxuJzogICAgICduJyxcbiAgICAnXFx0JzogICAgICd0JyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgdmFyIGVzY2FwZXIgPSAvXFxcXHwnfFxccnxcXG58XFx0fFxcdTIwMjh8XFx1MjAyOS9nO1xuXG4gIC8vIEphdmFTY3JpcHQgbWljcm8tdGVtcGxhdGluZywgc2ltaWxhciB0byBKb2huIFJlc2lnJ3MgaW1wbGVtZW50YXRpb24uXG4gIC8vIFVuZGVyc2NvcmUgdGVtcGxhdGluZyBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXMgd2hpdGVzcGFjZSxcbiAgLy8gYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuXG4gIF8udGVtcGxhdGUgPSBmdW5jdGlvbih0ZXh0LCBkYXRhLCBzZXR0aW5ncykge1xuICAgIHZhciByZW5kZXI7XG4gICAgc2V0dGluZ3MgPSBfLmRlZmF1bHRzKHt9LCBzZXR0aW5ncywgXy50ZW1wbGF0ZVNldHRpbmdzKTtcblxuICAgIC8vIENvbWJpbmUgZGVsaW1pdGVycyBpbnRvIG9uZSByZWd1bGFyIGV4cHJlc3Npb24gdmlhIGFsdGVybmF0aW9uLlxuICAgIHZhciBtYXRjaGVyID0gbmV3IFJlZ0V4cChbXG4gICAgICAoc2V0dGluZ3MuZXNjYXBlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAgIChzZXR0aW5ncy5pbnRlcnBvbGF0ZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuZXZhbHVhdGUgfHwgbm9NYXRjaCkuc291cmNlXG4gICAgXS5qb2luKCd8JykgKyAnfCQnLCAnZycpO1xuXG4gICAgLy8gQ29tcGlsZSB0aGUgdGVtcGxhdGUgc291cmNlLCBlc2NhcGluZyBzdHJpbmcgbGl0ZXJhbHMgYXBwcm9wcmlhdGVseS5cbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBzb3VyY2UgPSBcIl9fcCs9J1wiO1xuICAgIHRleHQucmVwbGFjZShtYXRjaGVyLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlLCBpbnRlcnBvbGF0ZSwgZXZhbHVhdGUsIG9mZnNldCkge1xuICAgICAgc291cmNlICs9IHRleHQuc2xpY2UoaW5kZXgsIG9mZnNldClcbiAgICAgICAgLnJlcGxhY2UoZXNjYXBlciwgZnVuY3Rpb24obWF0Y2gpIHsgcmV0dXJuICdcXFxcJyArIGVzY2FwZXNbbWF0Y2hdOyB9KTtcblxuICAgICAgaWYgKGVzY2FwZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGVzY2FwZSArIFwiKSk9PW51bGw/Jyc6Xy5lc2NhcGUoX190KSkrXFxuJ1wiO1xuICAgICAgfVxuICAgICAgaWYgKGludGVycG9sYXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgaW50ZXJwb2xhdGUgKyBcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiO1xuICAgICAgfVxuICAgICAgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZSArIFwiXFxuX19wKz0nXCI7XG4gICAgICB9XG4gICAgICBpbmRleCA9IG9mZnNldCArIG1hdGNoLmxlbmd0aDtcbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcbiAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgLy8gSWYgYSB2YXJpYWJsZSBpcyBub3Qgc3BlY2lmaWVkLCBwbGFjZSBkYXRhIHZhbHVlcyBpbiBsb2NhbCBzY29wZS5cbiAgICBpZiAoIXNldHRpbmdzLnZhcmlhYmxlKSBzb3VyY2UgPSAnd2l0aChvYmp8fHt9KXtcXG4nICsgc291cmNlICsgJ31cXG4nO1xuXG4gICAgc291cmNlID0gXCJ2YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4sXCIgK1xuICAgICAgXCJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xcblwiICtcbiAgICAgIHNvdXJjZSArIFwicmV0dXJuIF9fcDtcXG5cIjtcblxuICAgIHRyeSB7XG4gICAgICByZW5kZXIgPSBuZXcgRnVuY3Rpb24oc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaicsICdfJywgc291cmNlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEpIHJldHVybiByZW5kZXIoZGF0YSwgXyk7XG4gICAgdmFyIHRlbXBsYXRlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgcmV0dXJuIHJlbmRlci5jYWxsKHRoaXMsIGRhdGEsIF8pO1xuICAgIH07XG5cbiAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbiBzb3VyY2UgYXMgYSBjb252ZW5pZW5jZSBmb3IgcHJlY29tcGlsYXRpb24uXG4gICAgdGVtcGxhdGUuc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAoc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaicpICsgJyl7XFxuJyArIHNvdXJjZSArICd9JztcblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfTtcblxuICAvLyBBZGQgYSBcImNoYWluXCIgZnVuY3Rpb24sIHdoaWNoIHdpbGwgZGVsZWdhdGUgdG8gdGhlIHdyYXBwZXIuXG4gIF8uY2hhaW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXyhvYmopLmNoYWluKCk7XG4gIH07XG5cbiAgLy8gT09QXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAvLyBJZiBVbmRlcnNjb3JlIGlzIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLCBpdCByZXR1cm5zIGEgd3JhcHBlZCBvYmplY3QgdGhhdFxuICAvLyBjYW4gYmUgdXNlZCBPTy1zdHlsZS4gVGhpcyB3cmFwcGVyIGhvbGRzIGFsdGVyZWQgdmVyc2lvbnMgb2YgYWxsIHRoZVxuICAvLyB1bmRlcnNjb3JlIGZ1bmN0aW9ucy4gV3JhcHBlZCBvYmplY3RzIG1heSBiZSBjaGFpbmVkLlxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjb250aW51ZSBjaGFpbmluZyBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0aGlzLl9jaGFpbiA/IF8ob2JqKS5jaGFpbigpIDogb2JqO1xuICB9O1xuXG4gIC8vIEFkZCBhbGwgb2YgdGhlIFVuZGVyc2NvcmUgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgXy5taXhpbihfKTtcblxuICAvLyBBZGQgYWxsIG11dGF0b3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBlYWNoKFsncG9wJywgJ3B1c2gnLCAncmV2ZXJzZScsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iaiA9IHRoaXMuX3dyYXBwZWQ7XG4gICAgICBtZXRob2QuYXBwbHkob2JqLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKChuYW1lID09ICdzaGlmdCcgfHwgbmFtZSA9PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiByZXN1bHQuY2FsbCh0aGlzLCBvYmopO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIEFkZCBhbGwgYWNjZXNzb3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBlYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LmNhbGwodGhpcywgbWV0aG9kLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cykpO1xuICAgIH07XG4gIH0pO1xuXG4gIF8uZXh0ZW5kKF8ucHJvdG90eXBlLCB7XG5cbiAgICAvLyBTdGFydCBjaGFpbmluZyBhIHdyYXBwZWQgVW5kZXJzY29yZSBvYmplY3QuXG4gICAgY2hhaW46IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fY2hhaW4gPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8vIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIHdyYXBwZWQgYW5kIGNoYWluZWQgb2JqZWN0LlxuICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl93cmFwcGVkO1xuICAgIH1cblxuICB9KTtcblxuICAvLyBBTUQgcmVnaXN0cmF0aW9uIGhhcHBlbnMgYXQgdGhlIGVuZCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIEFNRCBsb2FkZXJzXG4gIC8vIHRoYXQgbWF5IG5vdCBlbmZvcmNlIG5leHQtdHVybiBzZW1hbnRpY3Mgb24gbW9kdWxlcy4gRXZlbiB0aG91Z2ggZ2VuZXJhbFxuICAvLyBwcmFjdGljZSBmb3IgQU1EIHJlZ2lzdHJhdGlvbiBpcyB0byBiZSBhbm9ueW1vdXMsIHVuZGVyc2NvcmUgcmVnaXN0ZXJzXG4gIC8vIGFzIGEgbmFtZWQgbW9kdWxlIGJlY2F1c2UsIGxpa2UgalF1ZXJ5LCBpdCBpcyBhIGJhc2UgbGlicmFyeSB0aGF0IGlzXG4gIC8vIHBvcHVsYXIgZW5vdWdoIHRvIGJlIGJ1bmRsZWQgaW4gYSB0aGlyZCBwYXJ0eSBsaWIsIGJ1dCBub3QgYmUgcGFydCBvZlxuICAvLyBhbiBBTUQgbG9hZCByZXF1ZXN0LiBUaG9zZSBjYXNlcyBjb3VsZCBnZW5lcmF0ZSBhbiBlcnJvciB3aGVuIGFuXG4gIC8vIGFub255bW91cyBkZWZpbmUoKSBpcyBjYWxsZWQgb3V0c2lkZSBvZiBhIGxvYWRlciByZXF1ZXN0LlxuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKCd1bmRlcnNjb3JlJywgW10sIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIF87XG4gICAgfSk7XG4gIH1cbn0pLmNhbGwodGhpcyk7XG4iLCJpbXBvcnQgb3JkZXJlZERpY3QgZnJvbSAnb3JkZXJlZC1kaWN0JztcbmltcG9ydCB7IHRva2VuX3R5cGVzLCBrZXl3b3JkcyB9IGZyb20gXCIuLi90b2tlbi5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRfc2Nhbm5lcnMgKCkge1xuICAgIHZhciBzY2FubmVycyA9IG5ldyBvcmRlcmVkRGljdCgpO1xuXG4gICAgc2Nhbm5lcnMuYXBwZW5kKCdlb2Zfc2Nhbm5lcicsIEVPRlNjYW5uZXIpO1xuICAgIHNjYW5uZXJzLmFwcGVuZCgnZW9sX3NjYW5uZXInLCBFT0xTY2FubmVyKTtcbiAgICBzY2FubmVycy5hcHBlbmQoJ2Vvc19zY2FubmVyJywgRU9TU2Nhbm5lcik7XG4gICAgLy8gc2Nhbm5lcnMuYXBwZW5kKCdsaW5lbnVtYmVyX3NjYW5uZXInLCBMaW5lTnVtYmVyU2Nhbm5lcik7XG4gICAgc2Nhbm5lcnMuYXBwZW5kKCdjb21tZW50X3NjYW5uZXInLCBDb21tZW50U2Nhbm5lcik7XG4gICAgc2Nhbm5lcnMuYXBwZW5kKCdrZXl3b3JkX3NjYW5uZXInLCBLZXl3b3JkU2Nhbm5lcik7XG4gICAgc2Nhbm5lcnMuYXBwZW5kKCdvcGVyYXRvcl9zY2FubmVyJywgT3BlcmF0b3JTY2FubmVyKTtcbiAgICBzY2FubmVycy5hcHBlbmQoJ3N0cmluZ19zY2FubmVyJywgU3RyaW5nU2Nhbm5lcik7XG4gICAgc2Nhbm5lcnMuYXBwZW5kKCdkZWNpbWFsX3NjYW5uZXInLCBEZWNpbWFsU2Nhbm5lcik7XG4gICAgc2Nhbm5lcnMuYXBwZW5kKCdoZXhhX3NjYW5uZXInLCBIZXhhU2Nhbm5lcik7XG4gICAgc2Nhbm5lcnMuYXBwZW5kKCdvY3RhbF9zY2FubmVyJywgT2N0YWxTY2FubmVyKTtcbiAgICBzY2FubmVycy5hcHBlbmQoJ2lkZW50aWZpZXJfc2Nhbm5lcicsIElkZW50aWZpZXJTY2FubmVyKTtcbiAgICBzY2FubmVycy5hcHBlbmQoXCJ1bmtvd25fc2Nhbm5lclwiLCBVbmtub3duU2Nhbm5lcilcblxuICAgIHJldHVybiBzY2FubmVycztcbn1cblxuXG5mdW5jdGlvbiBFT0ZTY2FubmVyKHRleHQsIGxhc3RfdG9rZW4pe1xuICAgIGlmICghdGV4dFswXSl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZW5ndGg6IDAsXG4gICAgICAgICAgICB0eXBlOiB0b2tlbl90eXBlcy5FT0YsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0WzBdXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIEVPTFNjYW5uZXIodGV4dCwgbGFzdF90b2tlbikge1xuICAgIGlmICh0ZXh0Lm1hdGNoKC9eKFxcclxcbnxcXHJ8XFxuKS8pKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZW5ndGg6IDEsXG4gICAgICAgICAgICB0eXBlOiB0b2tlbl90eXBlcy5FT0wsXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0LnNsaWNlKDAsIDEpXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBFT1NTY2FubmVyKHRleHQsIGxhc3RfdG9rZW4pe1xuICAgIGlmKHRleHRbMF0gPT0gJzonKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlbmd0aDogMSxcbiAgICAgICAgICAgIHR5cGU6IHRva2VuX3R5cGVzLkVPUyxcbiAgICAgICAgICAgIHRleHQ6ICc6J1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBMaW5lTnVtYmVyU2Nhbm5lcih0ZXh0LCBsYXN0X3Rva2VuKSB7XG4gICAgdmFyIG0gPSB0ZXh0Lm1hdGNoKC9eXFxkKy8pXG4gICAgaWYgKCghbGFzdF90b2tlbiB8fCBsYXN0X3Rva2VuLnR5cGUgPT0gdG9rZW5fdHlwZXMuRU9MKSAmJiBtKXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlbmd0aDogbVswXS5sZW5ndGgsXG4gICAgICAgICAgICB0eXBlOiB0b2tlbl90eXBlcy5MaW5lTnVtYmVyLFxuICAgICAgICAgICAgdGV4dDogbVswXVxuICAgICAgICB9XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIEtleXdvcmRTY2FubmVyKHRleHQsIGxhc3RfdG9rZW4pIHtcbiAgICB2YXIgd29yZCA9IHRleHQubWF0Y2goL15bYS16JCgnXSsvaSk7XG4gICAgaWYgKHdvcmQgJiYga2V5d29yZHMuaW5kZXhPZih3b3JkWzBdLnRvVXBwZXJDYXNlKCkpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlbmd0aDogd29yZFswXS5sZW5ndGgsXG4gICAgICAgICAgICB0eXBlOiB0b2tlbl90eXBlcy5LZXl3b3JkLFxuICAgICAgICAgICAgdGV4dDogd29yZFswXS50b1VwcGVyQ2FzZSgpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIENvbW1lbnRTY2FubmVyKHRleHQsIGxhc3RfdG9rZW4pIHtcbiAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICBpZiAobGFzdF90b2tlbiAmJiAobGFzdF90b2tlbi50ZXh0ID09ICdSRU0nIHx8IGxhc3RfdG9rZW4udGV4dCA9PSBcIidcIikpIHtcblxuICAgICAgICAvLyB1bnRpbCBFT0wgb3IgRU9GXG4gICAgICAgIHdoaWxlICh0ZXh0W29mZnNldF0gJiYgIXRleHRbb2Zmc2V0XS5tYXRjaCgvXihcXHJcXG58XFxyfFxcbikvKSkge1xuICAgICAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVuZ3RoOiBvZmZzZXQsXG4gICAgICAgICAgICB0eXBlOiB0b2tlbl90eXBlcy5Db21tZW50LFxuICAgICAgICAgICAgdGV4dDogdGV4dC5zbGljZSgwLCBvZmZzZXQpXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5cblxuZnVuY3Rpb24gRGVjaW1hbFNjYW5uZXIodGV4dCwgbGFzdF90b2tlbikge1xuICAgIHZhciBtID0gdGV4dC5tYXRjaCgvXigoXFwrfC0pP1tcXGQuXSsoKGV8ZCkoXFwrfC0pPyhcXGQpKT8oI3whfCUpPykvaSlcbiAgICBpZiAobSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVuZ3RoOiBtWzBdLmxlbmd0aCxcbiAgICAgICAgICAgIHR5cGU6IHRva2VuX3R5cGVzLkRlY2lhbWxOdW0sXG4gICAgICAgICAgICB0ZXh0OiBtWzBdXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBPY3RhbFNjYW5uZXIodGV4dCwgbGFzdF90b2tlbikge1xuICAgIHZhciBtID0gdGV4dC5tYXRjaCgvXiZvP1swLTddKi9pKVxuICAgIGlmIChtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZW5ndGg6IG1bMF0ubGVuZ3RoLFxuICAgICAgICAgICAgdHlwZTogdG9rZW5fdHlwZXMuRGVjaWFtbE51bSxcbiAgICAgICAgICAgIHRleHQ6IG1bMF1cbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIEhleGFTY2FubmVyKHRleHQsIGxhc3RfdG9rZW4pIHtcbiAgICB2YXIgbSA9IHRleHQubWF0Y2goL14maFswLTlhLWZdKi9pKVxuICAgIGlmIChtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZW5ndGg6IG1bMF0ubGVuZ3RoLFxuICAgICAgICAgICAgdHlwZTogdG9rZW5fdHlwZXMuRGVjaWFtbE51bSxcbiAgICAgICAgICAgIHRleHQ6IG1bMF1cbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIE9wZXJhdG9yU2Nhbm5lcih0ZXh0LCBsYXN0X3Rva2VuKSB7XG4gICAgdmFyIG0gPSB0ZXh0LnNsaWNlKDAsIDMpLm1hdGNoKC8oTU9EfEFORHxPUnxYT1J8RVFWfElNUCkvaSkgfHxcbiAgICAgICAgdGV4dC5zbGljZSgwLCAyKS5tYXRjaCgvKD49fDw9fD0+fD08fDw+fD0pL2kpIHx8XG4gICAgICAgIHRleHQubWF0Y2goL14oXFxefFxcKnxcXC98XFxcXHxcXCt8LXw+fDx8XFwofFxcKSkvaSk7XG4gICAgaWYgKG0pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlbmd0aDogbVswXS5sZW5ndGgsXG4gICAgICAgICAgICB0eXBlOiB0b2tlbl90eXBlcy5PcGVyYXRvcixcbiAgICAgICAgICAgIHRleHQ6IG1bMF1cbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFN0cmluZ1NjYW5uZXIodGV4dCwgbGFzdF90b2tlbikge1xuICAgIHZhciBtID0gdGV4dC5tYXRjaCgvXlwiKFteXCJcXHJcXG5dKilcIj8vKTtcbiAgICBpZiAobSl7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZW5ndGg6IG1bMF0ubGVuZ3RoLFxuICAgICAgICAgICAgdHlwZTogdG9rZW5fdHlwZXMuU3RyaW5nLFxuICAgICAgICAgICAgdGV4dDogbVswXVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gSWRlbnRpZmllclNjYW5uZXIodGV4dCwgbGFzdF90b2tlbil7XG4gICAgdmFyIG0gPSB0ZXh0Lm1hdGNoKC9eKFthLXpdKFthLXowLTkuXSspPykoIXwjfFxcJCk/L2kpXG4gICAgaWYgKG0pe1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVuZ3RoOiBtWzBdLmxlbmd0aCxcbiAgICAgICAgICAgIHR5cGU6IHRva2VuX3R5cGVzLklkZW50aWZpZXIsXG4gICAgICAgICAgICB0ZXh0OiBtWzBdXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5mdW5jdGlvbiBVbmtub3duU2Nhbm5lcih0ZXh0LCBsYXN0X3Rva2VuKXtcbiAgICByZXR1cm4ge1xuICAgICAgICBsZW5ndGg6IDEsXG4gICAgICAgIHR5cGU6IHRva2VuX3R5cGVzLlVua25vd24sXG4gICAgICAgIHRleHQ6IHRleHRbMF1cbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgYnVpbGRfc2Nhbm5lcnMgfSBmcm9tICcuL3NjYW5uZXJzLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzaWNTY2FubmVyIHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSAnJztcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB0aGlzLmxhc3RfdG9rZW4gPSBudWxsO1xuICAgICAgICB0aGlzLnRva2VuID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY2FubmVycyA9IGJ1aWxkX3NjYW5uZXJzKCk7XG4gICAgICAgIHRoaXMuc3RhdGVzID0gW107XG4gICAgfVxuXG4gICAgc2V0U291cmNlKHRleHQpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSB0ZXh0O1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMubGFzdF90b2tlbiA9IG51bGw7XG4gICAgICAgIHRoaXMudG9rZW4gPSBudWxsO1xuICAgIH1cblxuICAgIHNraXBCbGFuaygpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzLnNvdXJjZS5zbGljZSh0aGlzLnBvcykubWF0Y2goL15bIFxcdFxcZl0rLyk7XG4gICAgICAgIGlmIChtKSB0aGlzLnBvcyArPSBtLmxlbmd0aDtcbiAgICB9XG5cbiAgICBwZWVrU3RhdGUoKXtcbiAgICAgICAgdGhpcy5zdGF0ZXMucHVzaCh7XG4gICAgICAgICAgICAnbGFzdF90b2tlbic6IHRoaXMubGFzdF90b2tlbixcbiAgICAgICAgICAgICdwb3MnOiB0aGlzLnBvcyxcbiAgICAgICAgICAgICd0b2tlbic6IHRoaXMudG9rZW5cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzZWVrU3RhdGUoKXtcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZXMucG9wKCk7XG4gICAgICAgIGlmKHN0YXRlKXtcbiAgICAgICAgICAgIHRoaXMubGFzdF90b2tlbiA9IHN0YXRlLmxhc3RfdG9rZW47XG4gICAgICAgICAgICB0aGlzLnBvcyA9IHN0YXRlLnBvcztcbiAgICAgICAgICAgIHRoaXMudG9rZW4gPSBzdGF0ZS50b2tlbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNjYW4oKSB7XG4gICAgICAgIHRoaXMuc2tpcEJsYW5rKCk7XG4gICAgICAgIGZvciAodmFyIHggaW4gdGhpcy5zY2FubmVycy5fZGljdCkge1xuICAgICAgICAgICAgdmFyIHNjYW5uZXIgPSB0aGlzLnNjYW5uZXJzLl9kaWN0W3hdLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy50b2tlbiA9IHNjYW5uZXIodGhpcy5zb3VyY2Uuc2xpY2UodGhpcy5wb3MpLCB0aGlzLmxhc3RfdG9rZW4pO1xuICAgICAgICAgICAgaWYgKHRoaXMudG9rZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RfdG9rZW4gPSB0aGlzLnRva2VuO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zICs9IHRoaXMudG9rZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBzY2FubmVyIGZyb20gJy4uL3NjYW5uZXJzL2Jhc2ljX3NjYW5uZXIuanMnO1xuaW1wb3J0IHsgdG9rZW5fdHlwZXMgfSBmcm9tICcuLi90b2tlbi5qcyc7XG5pbXBvcnQgRXhwcmVzc2lvblBhcnNlciBmcm9tICcuL2V4cHJlc3Npb24nO1xuaW1wb3J0IHsgYnVpbGRfc2F0ZW1lbnRzIH0gZnJvbSAnLi9zdGF0ZW1lbnRzJztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCYXNpY1BhcnNlciB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zY2FubmVyID0gbmV3IHNjYW5uZXIoKTtcbiAgICAgICAgdGhpcy5leHByX3BhcnNlciA9IG5ldyBFeHByZXNzaW9uUGFyc2VyKCk7XG4gICAgICAgIHRoaXMuc3RhdGVtZW50X3BhcnNlciA9IGJ1aWxkX3NhdGVtZW50cygpO1xuICAgIH1cblxuICAgIC8qKiBSZXR1cm4gYSBmdWxseSBwYXJzZWQgdHJlZSBvZiBnaXZlbiBjb2RlICovXG4gICAgcGFyc2UoY29kZSkge1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIHRoaXMuc2Nhbm5lci5zZXRTb3VyY2UoY29kZSk7XG4gICAgICAgIHRoaXMuX25leHRUb2tlbigpO1xuICAgICAgICB2YXIgbGluZXMgPSBbXTtcblxuICAgICAgICAvLyBJdGVyYXRlIHVudGlsIGVuZCBvZiBmaWxlIHJlYWNoZXNcbiAgICAgICAgd2hpbGUgKHRoaXMudG9rZW4udHlwZSAhPSB0b2tlbl90eXBlcy5FT0YpIHtcbiAgICAgICAgICAgIGxpbmVzLnB1c2godGhpcy5fcGFyc2VMaW5lKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogUGFyc2UgYSBzaW5nbGUgbGluZSB0aGF0IG1heSBjb250YWluc1xuICAgICAqIG11bHRpcGxlIHN0YXRlbWVudHMgc2VwZXJhdGVkIGJ5ICc6J1xuICAgICAqL1xuICAgIF9wYXJzZUxpbmUoKSB7XG4gICAgICAgIHZhciBsaW5lTnVtLCBzdGF0ZW1lbnRzID0gW107XG5cbiAgICAgICAgLy8gaWYgMXN0IHRva2VuIGluIGRlY2ltYWwgbnVtYmVyIGl0cyBsaW5lIG51bWJlclxuICAgICAgICBpZiAodGhpcy50b2tlbi50eXBlID09IHRva2VuX3R5cGVzLkRlY2lhbWxOdW0pIHtcbiAgICAgICAgICAgIGxpbmVOdW0gPSB0aGlzLnRva2VuLnRleHQ7XG4gICAgICAgICAgICB0aGlzLl9uZXh0VG9rZW4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBhcnNlIHN0YXRlbWVudHMgZnJvbSBsaW5lXG4gICAgICAgIHdoaWxlICghdGhpcy5faXNMaW5lVGVybWluYXRvcigpKSB7XG4gICAgICAgICAgICBzdGF0ZW1lbnRzLnB1c2godGhpcy5fcGFyc2VTdGF0ZW1lbnQoKSk7XG5cbiAgICAgICAgICAgIGlmKHRoaXMudG9rZW4udGV4dCA9PSAnOicpXG4gICAgICAgICAgICAgICAgdGhpcy5fbmV4dFRva2VuKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9uZXh0VG9rZW4oKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGluZU51bTogbGluZU51bSxcbiAgICAgICAgICAgIHN0YXRlbWVudHM6IHN0YXRlbWVudHNcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBQYXJzZSBhIHNpbmdsZSBzdGF0bWVudCAqL1xuICAgIF9wYXJzZVN0YXRlbWVudCgpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IFtdLCBzdGF0ZW1lbnQsIHBhcnNlcjtcblxuICAgICAgICAvLyBpZiAxc3QgdG9rZW4gaXMga2V5d29yZCBhZGQgaXQgdG8gc3RhdGVtZW50IHRleHRcbiAgICAgICAgaWYgKHRoaXMudG9rZW4udHlwZSA9PSB0b2tlbl90eXBlcy5LZXl3b3JkKSB7XG4gICAgICAgICAgICBzdGF0ZW1lbnQgPSB0aGlzLnRva2VuLnRleHQ7XG4gICAgICAgICAgICBwYXJzZXIgPSB0aGlzLnN0YXRlbWVudF9wYXJzZXJbc3RhdGVtZW50XTtcbiAgICAgICAgICAgIGlmKHBhcnNlcil7XG4gICAgICAgICAgICAgIHZhciBwYXJhbXMgPSBwYXJzZXIodGhpcy5zY2FubmVyLCB0aGlzLmV4cHJfcGFyc2VyKTtcbiAgICAgICAgICAgICAgdGhpcy50b2tlbiA9IHRoaXMuc2Nhbm5lci50b2tlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIGl0cyBkaXJlY3QgYXNzaWdubWVudFxuICAgICAgICBlbHNlIGlmICh0aGlzLnRva2VuLnR5cGUgPT0gdG9rZW5fdHlwZXMuSWRlbnRpZmllcikge1xuICAgICAgICAgICAgdmFyIGlkZW50aWZpZXIgPSB0aGlzLnRva2VuO1xuICAgICAgICAgICAgdGhpcy5fbmV4dFRva2VuKCk7XG5cbiAgICAgICAgICAgIC8vIElmIGlkZW50aWZpZXIgZm9sbG93ZWQgYnkgYW4gPSBpdHMgZGlyZWN0IGFzc2lnbmVtbnRcbiAgICAgICAgICAgIGlmICh0aGlzLnRva2VuLnRleHQgPT0gJz0nKSB7XG4gICAgICAgICAgICAgICAgc3RhdGVtZW50ID0gJ0xFVCc7XG4gICAgICAgICAgICAgICAgcGFyc2VyID0gdGhpcy5zdGF0ZW1lbnRfcGFyc2VyWydMRVQnXTtcbiAgICAgICAgICAgICAgICBpZihwYXJzZXIpe1xuICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHBhcnNlcih0aGlzLnNjYW5uZXIsIHRoaXMuZXhwcl9wYXJzZXIsIGlkZW50aWZpZXIudGV4dCk7XG4gICAgICAgICAgICAgICAgICB0aGlzLnRva2VuID0gdGhpcy5zY2FubmVyLnRva2VuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRWxzZSBpdHMgdW5rbm93biB0aHJvdyBlcnJvclxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGhyb3dFcnJvcihgSW52YWxpZCB0b2tlbiAke3RoaXMudG9rZW4udGV4dH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVsc2UgaXRzIHVua25vd24gdGhyb3cgZXJyb3JcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl90aHJvd0Vycm9yKGBJbnZhbGlkIHRva2VuICR7dGhpcy50b2tlbi50ZXh0fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXRlbWVudDogc3RhdGVtZW50LFxuICAgICAgICAgICAgcGFyYW1zOiBwYXJhbXNcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBSZXR1cm4gaWYgY3VycmVudCB0b2tlbiBpcyBTdGF0ZW1lbnRUZXJtaW5hdG9yICovXG4gICAgX2lzU3RhdGVtZW50VGVybWluYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW4udHlwZSA9PSB0b2tlbl90eXBlcy5FT1MgfHxcbiAgICAgICAgICAgIHRoaXMudG9rZW4udHlwZSA9PSB0b2tlbl90eXBlcy5FT0wgfHxcbiAgICAgICAgICAgIHRoaXMudG9rZW4udHlwZSA9PSB0b2tlbl90eXBlcy5FT0Y7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybiBpZiBjdXJyZW50IHRva2VuIGlzIExpbmVUZXJtaW5hdG9yICovXG4gICAgX2lzTGluZVRlcm1pbmF0b3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VuLnR5cGUgPT0gdG9rZW5fdHlwZXMuRU9MIHx8XG4gICAgICAgICAgICB0aGlzLnRva2VuLnR5cGUgPT0gdG9rZW5fdHlwZXMuRU9GO1xuICAgIH1cblxuICAgIC8qKiBTY2FucyBuZXh0IHRva2VuICovXG4gICAgX25leHRUb2tlbigpIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IHRoaXMuc2Nhbm5lci5zY2FuKCk7XG4gICAgfVxuXG4gICAgLyoqIFRocm93cyBwYXJzaW5nIGVycm9yICovXG4gICAgX3Rocm93RXJyb3IobXNnKXtcbiAgICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGVycm9yIHBvc2l0aW9uXG4gICAgICAgIHRocm93IG1zZztcbiAgICB9XG59XG4iLCJpbXBvcnQgQmFzaWNQYXJzZXIgZnJvbSAnLi9wYXJzZXIvYmFzaWNfcGFyc2VyJztcblxuXG5jbGFzcyBFYXN5YmFzaWN7XG5cbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLnBhcnNlciA9IG5ldyBCYXNpY1BhcnNlcigpO1xuICAgIH1cblxuICAgIHBhcnNlKHRleHQpe1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZXIucGFyc2UodGV4dCk7XG4gICAgfVxufVxuXG53aW5kb3cuQkFTSUMgPSBFYXN5YmFzaWM7XG5cbmV4cG9ydCBkZWZhdWx0IEVhc3liYXNpYzsiXSwic291cmNlUm9vdCI6IiJ9